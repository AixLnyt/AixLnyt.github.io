<!DOCTYPE html>


<html theme="dark" showBanner="true" hasBanner="true" >
<link href="https://cdn.staticfile.org/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet">
<link href="https://cdn.staticfile.org/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet">
<link href="https://cdn.staticfile.org/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet">
<script src="/js/color.global.min.js" ></script>
<script src="/js/load-settings.js" ></script>
<head>
  <meta charset="utf-8">
  
  
  <title>02 網路的構成（一） | 虎头鯨</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="preload" href="/css/fonts/Roboto-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
  <link rel="preload" href="/css/fonts/Roboto-Bold.ttf" as="font" type="font/ttf" crossorigin="anonymous">

  <meta name="description" content=".img-wrapper {   margin: 20px 0; }  .img-wrapper img {   display: block;   max-width: 50%;   height: auto;   margin-left: 0;  &#x2F;* 靠左對齊 *&#x2F; }  &#x2F;* 手機寬度 320~425px 時，max-width 改為 80% *&#x2F; @media (min-width">
<meta property="og:type" content="website">
<meta property="og:title" content="02 網路的構成（一）">
<meta property="og:url" content="https://aixlnyt.github.io/Certiport/ITS/Networking/02">
<meta property="og:site_name" content="虎头鯨">
<meta property="og:description" content=".img-wrapper {   margin: 20px 0; }  .img-wrapper img {   display: block;   max-width: 50%;   height: auto;   margin-left: 0;  &#x2F;* 靠左對齊 *&#x2F; }  &#x2F;* 手機寬度 320~425px 時，max-width 改為 80% *&#x2F; @media (min-width">
<meta property="og:locale" content="zh_TW">
<meta property="og:image" content="https://aixlnyt.github.io/img/Star_Topology.png">
<meta property="og:image" content="https://aixlnyt.github.io/img/Bus_Topology.png">
<meta property="og:image" content="https://aixlnyt.github.io/img/Ring_Topology.png">
<meta property="og:image" content="https://aixlnyt.github.io/img/Tree_Topology.png">
<meta property="og:image" content="https://aixlnyt.github.io/img/Mesh_Topology.png">
<meta property="og:image" content="https://aixlnyt.github.io/img/NIC.png">
<meta property="og:image" content="https://aixlnyt.github.io/img/Repeater.png">
<meta property="og:image" content="https://aixlnyt.github.io/img/Hub.png">
<meta property="og:image" content="https://aixlnyt.github.io/img/Switch.png">
<meta property="og:image" content="https://aixlnyt.github.io/img/Bridge.png">
<meta property="og:image" content="https://aixlnyt.github.io/img/Router.png">
<meta property="og:image" content="https://aixlnyt.github.io/img/Gateway.png">
<meta property="og:image" content="https://aixlnyt.github.io/img/Modem.png">
<meta property="og:image" content="https://aixlnyt.github.io/img/Print_Server.png">
<meta property="article:published_time" content="2025-07-18T16:00:00.000Z">
<meta property="article:modified_time" content="2025-08-04T10:00:06.951Z">
<meta property="article:author" content="虎头鲸">
<meta property="article:tag" content="lenient, 虎頭鯨, 虎头鲸, baiyue, 白玥">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://aixlnyt.github.io/img/Star_Topology.png">
  
    <link rel="alternate" href="/atom.xml" title="虎头鯨" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/img/favicon.ico">
  
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 7.3.0"></head>
<body>
  
  
    

<div id="banner" class="">
  <!-- 图片/视频轮播容器 -->
  <div class="banner-slideshow">
    
      <!-- 桌面端媒体 -->
      
        <video src="/img/d01.mp4" 
               class="banner-media desktop-media media-0"
               data-slide-index="0"
               data-desktop-position="50% 20%"
               autoplay muted loop playsinline preload="metadata">
        </video>
      
      
      <!-- 移动端媒体 -->
      
        <video src="/img/m01.mp4" 
               class="banner-media mobile-media media-0"
               data-slide-index="0"
               data-mobile-position="70% 50%"
               autoplay muted loop playsinline preload="metadata">
        </video>
      
    
  </div>
  
  <div id="banner-dim" style="display: none;"></div>
  
  <!-- 只有首页才显示标题 -->
  
  
  <!-- Wave 效果 - 双层设计避免色差 -->
  <div class="waves-container">
    <!-- 暗色主题的 Wave -->
    <svg class="waves waves-dark" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
         viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
      <defs>
        <path id="gentle-wave-dark" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v28h-352z"/>
      </defs>
      <g class="parallax">
        <use xlink:href="#gentle-wave-dark" x="50" y="0" class="wave1"/>
        <use xlink:href="#gentle-wave-dark" x="50" y="2" class="wave2"/>
        <use xlink:href="#gentle-wave-dark" x="50" y="4" class="wave3"/>
        <use xlink:href="#gentle-wave-dark" x="50" y="6" class="wave4"/>
      </g>
    </svg>
    
    <!-- 明亮主题的 Wave -->
    <svg class="waves waves-light" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
         viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
      <defs>
        <path id="gentle-wave-light" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v28h-352z"/>
      </defs>
      <g class="parallax">
        <use xlink:href="#gentle-wave-light" x="50" y="0" class="wave1"/>
        <use xlink:href="#gentle-wave-light" x="50" y="2" class="wave2"/>
        <use xlink:href="#gentle-wave-light" x="50" y="4" class="wave3"/>
        <use xlink:href="#gentle-wave-light" x="50" y="6" class="wave4"/>
      </g>
    </svg>
  </div>
  
</div>

<!-- 音樂播放器 -->
<div id="musicPlayer" class="music-player-widget">
  <!-- 隱藏狀態的半圓形圖標 -->
  <div class="hidden-tab" id="hiddenTab">
    <div class="tab-icon">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24">
        <path fill="currentColor" d="M8 19V5l11 7z"></path>
      </svg>
    </div>
  </div>

  <!-- 播放器容器 -->
  <div class="player-container" id="playerContainer">
    <!-- 基本播放器信息（始終顯示） -->
    <div class="player-header">
      <div class="cover-container">
        <img src="https://via.placeholder.com/48x48/6366f1/ffffff?text=♪" alt="封面" class="cover-img" id="coverImg">
        <div class="play-overlay" id="playOverlay">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
            <path fill="currentColor" d="M8 19V5l11 7z"></path>
          </svg>
        </div>
      </div>
      <div class="song-info">
        <div class="song-title" id="songTitle">
          <span class="title-text">示例歌曲名稱</span>
        </div>
        <div class="song-artist" id="songArtist">示例藝術家</div>
        <div class="song-time" id="songTime">0:00 / 0:00</div>
      </div>
      <div class="header-controls">
        <button class="icon-btn" id="hideBtn" title="隱藏播放器">
          <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="1 0 24 24">
            <path fill="currentColor" d="M9.4 18L8 16.6l4.6-4.6L8 7.4L9.4 6l6 6z"></path>
          </svg>
        </button>
        <button class="icon-btn play-toggle-btn" id="playToggleBtn">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="1 0 24 24">
            <path fill="currentColor" d="M8 19V5l11 7z"></path>
          </svg>
        </button>
        <button class="icon-btn expand-btn" id="expandBtn" title="展開播放器">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="1 0 24 24" class="expand-icon">
            <path fill="currentColor" d="m7 14l5-5l5 5z"></path>
          </svg>
        </button>
      </div>
    </div>

    <!-- 展開內容（默認隱藏） -->
    <div class="expanded-content" id="expandedContent">
      <!-- 進度條 -->
      <div class="progress-section">
        <div class="progress-bar" id="progressBar">
          <div class="progress-fill" style="width: 0%"></div>
          <div class="progress-handle" style="left: 0%"></div>
        </div>
      </div>

      <!-- 主控制按鈕 -->
      <div class="main-controls">
        <button class="control-btn" id="shuffleBtn" title="隨機播放">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24">
            <path fill="currentColor" d="M14 20v-2h2.6l-3.175-3.175L14.85 13.4L18 16.55V14h2v6zm-8.6 0L4 18.6L16.6 6H14V4h6v6h-2V7.4zm3.775-9.425L4 5.4L5.4 4l5.175 5.175z"></path>
          </svg>
        </button>
        <button class="control-btn" id="prevBtn" title="上一首">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
            <path fill="currentColor" d="M5.5 18V6h2v12zm13 0l-9-6l9-6z"></path>
          </svg>
        </button>
        <button class="play-btn" id="mainPlayBtn">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
            <path fill="currentColor" d="M8 19V5l11 7z"></path>
          </svg>
        </button>
        <button class="control-btn" id="nextBtn" title="下一首">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
            <path fill="currentColor" d="M16.5 18V6h2v12zm-11 0V6l9 6z"></path>
          </svg>
        </button>
        <button class="control-btn" id="repeatBtn" title="循環播放">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24">
            <path fill="currentColor" d="m7 22l-4-4l4-4l1.4 1.45L6.85 17H17v-4h2v6H6.85l1.55 1.55zM5 11V5h12.15L15.6 3.45L17 2l4 4l-4 4l-1.4-1.45L17.15 7H7v4z"></path>
          </svg>
        </button>
      </div>

      <!-- 底部控制 -->
      <div class="bottom-controls">
        <button class="icon-btn" id="volumeBtn" title="音量">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" class="volume-icon">
            <path fill="currentColor" d="M14 20.725v-2.05q2.25-.65 3.625-2.5t1.375-4.2t-1.375-4.2T14 5.275v-2.05q3.1.7 5.05 3.138T21 11.975t-1.95 5.613T14 20.725M3 15V9h4l5-5v16l-5-5zm11 1V7.95q1.175.55 1.838 1.65T16.5 12q0 1.275-.663 2.363T14 16"></path>
          </svg>
        </button>
        <div class="volume-bar-container">
          <div class="volume-bar" id="volumeBar">
            <div class="volume-fill" style="width: 30%"></div>
            <div class="volume-handle" style="left: 30%"></div>
          </div>
        </div>
        <button class="icon-btn" id="playlistBtn" title="播放列表">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24">
            <path fill="currentColor" d="M15 6H3v2h12V6zm0 4H3v2h12v-2zM3 16h8v-2H3v2zM17 6v8.18c-.31-.11-.65-.18-1-.18-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3V8h3V6h-5z"></path>
          </svg>
        </button>
      </div>
    </div>
  </div>

  <!-- 播放列表彈出框 -->
  <div class="playlist-modal" id="playlistModal">
    <div class="playlist-content">
      <div class="playlist-header">
        <h3>播放列表</h3>
        <button class="close-btn" id="closePlaylistBtn">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
            <path fill="currentColor" d="M18.3 5.71L12 12l6.3 6.29l-1.42 1.42L12 13.41l-5.88 5.88l-1.42-1.42L10.59 12L4.7 5.71l1.42-1.42L12 10.59l6.3-6.3z"></path>
          </svg>
        </button>
      </div>
      <div class="playlist-list" id="playlistList">
        <!-- 播放列表項目將在這裡生成 -->
      </div>
    </div>
  </div>
</div>

<!-- 隱藏的 Audio 元素 -->
<audio id="audioPlayer" preload="metadata"></audio>

<style>
  .music-player-widget {
    position: fixed;
    bottom: 15px;
    left: 0;
    z-index: 1000;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    font-size: 14px;
  }

  /* 主題色彩變量 */
  .music-player-widget {
    --player-bg-light: rgba(255, 255, 255, 0.95);
    --player-bg-dark: rgba(20, 25, 35, 0.95);
    --player-header-light: rgba(240, 245, 250, 0.8);
    --player-header-dark: rgba(30, 35, 45, 0.8);
    --text-primary-light: #1a202c;
    --text-primary-dark: #f7fafc;
    --text-secondary-light: rgba(26, 32, 44, 0.7);
    --text-secondary-dark: rgba(247, 250, 252, 0.7);
    --text-tertiary-light: rgba(26, 32, 44, 0.5);
    --text-tertiary-dark: rgba(247, 250, 252, 0.5);
    --icon-bg-light: rgba(26, 32, 44, 0.08);
    --icon-bg-dark: rgba(247, 250, 252, 0.08);
    --icon-bg-hover-light: rgba(26, 32, 44, 0.15);
    --icon-bg-hover-dark: rgba(247, 250, 252, 0.15);
    --border-light: rgba(26, 32, 44, 0.1);
    --border-dark: rgba(247, 250, 252, 0.1);
    --progress-track-light: rgba(26, 32, 44, 0.1);
    --progress-track-dark: rgba(247, 250, 252, 0.1);
    --modal-overlay-light: rgba(0, 0, 0, 0.5);
    --modal-overlay-dark: rgba(0, 0, 0, 0.8);
    --playlist-hover-light: rgba(26, 32, 44, 0.05);
    --playlist-hover-dark: rgba(247, 250, 252, 0.05);
  }

  /* Light 主題 */
  :root[theme="light"] .music-player-widget {
    --player-bg: var(--player-bg-light);
    --player-header-bg: var(--player-header-light);
    --text-primary: var(--text-primary-light);
    --text-secondary: var(--text-secondary-light);
    --text-tertiary: var(--text-tertiary-light);
    --icon-bg: var(--icon-bg-light);
    --icon-bg-hover: var(--icon-bg-hover-light);
    --border-color: var(--border-light);
    --progress-track: var(--progress-track-light);
    --modal-overlay: var(--modal-overlay-light);
    --playlist-hover: var(--playlist-hover-light);
  }

  /* Dark 主題 */
  :root[theme="dark"] .music-player-widget {
    --player-bg: var(--player-bg-dark);
    --player-header-bg: var(--player-header-dark);
    --text-primary: var(--text-primary-dark);
    --text-secondary: var(--text-secondary-dark);
    --text-tertiary: var(--text-tertiary-dark);
    --icon-bg: var(--icon-bg-dark);
    --icon-bg-hover: var(--icon-bg-hover-dark);
    --border-color: var(--border-dark);
    --progress-track: var(--progress-track-dark);
    --modal-overlay: var(--modal-overlay-dark);
    --playlist-hover: var(--playlist-hover-dark);
  }

  /* 默認為 dark 主題（如果沒有設定主題） */
  .music-player-widget {
    --player-bg: var(--player-bg-dark);
    --player-header-bg: var(--player-header-dark);
    --text-primary: var(--text-primary-dark);
    --text-secondary: var(--text-secondary-dark);
    --text-tertiary: var(--text-tertiary-dark);
    --icon-bg: var(--icon-bg-dark);
    --icon-bg-hover: var(--icon-bg-hover-dark);
    --border-color: var(--border-dark);
    --progress-track: var(--progress-track-dark);
    --modal-overlay: var(--modal-overlay-dark);
    --playlist-hover: var(--playlist-hover-dark);
  }

  /* 隱藏狀態的半圓形標籤 */
  .hidden-tab {
    position: absolute;
    left: 0;
    bottom: 40px;
    width: 32px;
    height: 64px;
    background: linear-gradient(135deg, var(--primary, #6366f1) 0%, hsl(calc(var(--primary-hue, 250) + 20), 70%, 65%) 100%);
    border-radius: 0 32px 32px 0;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    box-shadow: 2px 0 15px hsla(var(--primary-hue, 250), 70%, 60%, 0.3);
    transform: translateX(-100%);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    opacity: 0;
    pointer-events: none;
  }

  .hidden-tab.show {
    transform: translateX(0);
    opacity: 1;
    pointer-events: auto;
  }

  .hidden-tab:hover {
    transform: translateX(4px);
    box-shadow: 4px 0 20px hsla(var(--primary-hue, 250), 70%, 60%, 0.4);
  }

  .tab-icon {
    color: white;
    transform: translateX(2px);
  }

  /* 播放器容器 */
  .player-container {
    background: var(--player-bg);
    backdrop-filter: blur(20px);
    border-radius: 10px;
    overflow: hidden;
    box-shadow: 0 6px 24px rgba(0, 0, 0, 0.15);
    border: 1px solid var(--border-color);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    width: 280px;
    margin-left: 15px;
    transform-origin: bottom left;
  }

  .player-container.expanded {
    width: 320px;
    transform: scale(1.01);
  }

  .player-container.hidden {
    transform: translateX(-100%);
    opacity: 0;
    pointer-events: none;
  }

  /* 頭部區域 */
  .player-header {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 12px;
    background: var(--player-header-bg);
  }

  .cover-container {
    width: 48px;
    height: 48px;
    border-radius: 6px;
    overflow: hidden;
    flex-shrink: 0;
    position: relative;
    cursor: pointer;
    background: var(--page-background);
  }

  .cover-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s ease;
  }

  .play-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.6);
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.3s ease;
    color: white;
  }

  .cover-container:hover .play-overlay {
    opacity: 1;
  }

  .song-info {
    flex: 1;
    min-width: 0;
  }

  .song-title {
    font-size: 14px;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 3px;
    overflow: hidden;
    position: relative;
    height: 17px;
  }

  .title-text {
    display: block;
    white-space: nowrap;
    transition: transform 0.3s ease;
  }

  .song-title.marquee .title-text {
    animation: marquee 10s linear infinite;
  }

  @keyframes marquee {
    0% { transform: translateX(0); }
    100% { transform: translateX(-100%); }
  }

  .song-artist {
    font-size: 12px;
    color: var(--text-secondary);
    margin-bottom: 2px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .song-time {
    font-size: 10px;
    color: var(--text-tertiary);
  }

  .header-controls {
    display: flex;
    align-items: center;
    gap: 6px;
    flex-shrink: 0;
  }

  .icon-btn {
    width: 32px;
    height: 32px;
    border: none;
    background: var(--icon-bg);
    border-radius: 6px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--text-secondary);
    cursor: pointer;
    transition: all 0.2s ease;
    position: relative;
  }

  .icon-btn svg {
    transform: translate(1px, 1px);
  }

  .icon-btn:hover {
    background: var(--icon-bg-hover);
    color: var(--text-primary);
    transform: scale(1.05);
  }

  /* 播放按鈕使用主題色 */
  .play-toggle-btn {
    background: linear-gradient(135deg, var(--primary, #6366f1) 0%, hsl(calc(var(--primary-hue, 250) + 20), 70%, 65%) 100%);
    color: #ffffff;
    box-shadow: 0 2px 8px hsla(var(--primary-hue, 250), 70%, 60%, 0.3);
  }

  .play-toggle-btn:hover {
    background: linear-gradient(135deg, hsl(calc(var(--primary-hue, 250) - 10), 70%, 55%) 0%, hsl(calc(var(--primary-hue, 250) + 15), 70%, 60%) 100%);
    box-shadow: 0 3px 12px hsla(var(--primary-hue, 250), 70%, 60%, 0.4);
    transform: scale(1.05);
  }

  .expand-btn .expand-icon {
    transition: transform 0.3s ease;
  }

  .player-container.expanded .expand-btn .expand-icon {
    transform: rotate(180deg);
  }

  /* 展開內容區域 */
  .expanded-content {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1), 
                padding 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    padding: 0 16px;
  }

  .player-container.expanded .expanded-content {
    max-height: 400px;
    padding: 16px;
  }

  /* 進度條區域 - 使用主題色 */
  .progress-section {
    margin-bottom: 20px;
  }

  .progress-bar {
    height: 5px;
    background: var(--progress-track);
    border-radius: 3px;
    cursor: pointer;
    position: relative;
    transition: height 0.2s ease;
  }

  .progress-bar:hover {
    height: 6px;
  }

  .progress-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--primary, #6366f1) 0%, hsl(calc(var(--primary-hue, 250) + 20), 70%, 65%) 100%);
    border-radius: 3px;
    transition: width 0.1s ease;
    position: relative;
  }

  .progress-handle {
    width: 14px;
    height: 14px;
    background: #ffffff;
    border: 2px solid var(--primary, #6366f1);
    border-radius: 50%;
    position: absolute;
    top: 50%;
    transform: translate(-50%, -50%);
    opacity: 0;
    transition: opacity 0.2s ease;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
    cursor: grab;
  }

  .progress-handle:active {
    cursor: grabbing;
  }

  .progress-bar:hover .progress-handle {
    opacity: 1;
  }

  /* 主控制區域 */
  .main-controls {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    margin-bottom: 20px;
  }

  .control-btn {
    width: 36px;
    height: 36px;
    border: none;
    background: var(--icon-bg);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--text-secondary);
    cursor: pointer;
    transition: all 0.2s ease;
  }

  .control-btn:hover {
    background: var(--icon-bg-hover);
    color: var(--text-primary);
    transform: scale(1.05);
  }

  /* 控制按鈕激活狀態使用主題色 */
  .control-btn.active {
    background: hsla(var(--primary-hue, 250), 70%, 60%, 0.3);
    color: var(--primary, #6366f1);
  }

  /* 主播放按鈕使用主題色 */
  .play-btn {
    width: 48px;
    height: 48px;
    border: none;
    background: linear-gradient(135deg, var(--primary, #6366f1) 0%, hsl(calc(var(--primary-hue, 250) + 20), 70%, 65%) 100%);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #ffffff;
    cursor: pointer;
    transition: all 0.2s ease;
    box-shadow: 0 3px 15px hsla(var(--primary-hue, 250), 70%, 60%, 0.4);
  }

  .play-btn:hover {
    transform: scale(1.08);
    box-shadow: 0 4px 20px hsla(var(--primary-hue, 250), 70%, 60%, 0.5);
  }

  /* 底部控制區域 */
  .bottom-controls {
    display: flex;
    align-items: center;
    gap: 10px;
  }

  .volume-bar-container {
    flex: 1;
    position: relative;
  }

  /* 音量條使用主題色 */
  .volume-bar {
    height: 4px;
    background: var(--progress-track);
    border-radius: 2px;
    cursor: pointer;
    position: relative;
    transition: height 0.2s ease;
  }

  .volume-bar:hover {
    height: 5px;
  }

  .volume-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--primary, #6366f1) 0%, hsl(calc(var(--primary-hue, 250) + 20), 70%, 65%) 100%);
    border-radius: 2px;
    transition: width 0.1s ease;
  }

  .volume-handle {
    width: 12px;
    height: 12px;
    background: #ffffff;
    border: 2px solid var(--primary, #6366f1);
    border-radius: 50%;
    position: absolute;
    top: 50%;
    transform: translate(-50%, -50%);
    opacity: 0;
    transition: opacity 0.2s ease;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
    cursor: grab;
  }

  .volume-handle:active {
    cursor: grabbing;
  }

  .volume-bar:hover .volume-handle {
    opacity: 1;
  }

  /* 播放列表彈出框 */
  .playlist-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: var(--modal-overlay);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1001;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
  }

  .playlist-modal.show {
    opacity: 1;
    visibility: visible;
  }

  .playlist-content {
    background: var(--player-bg);
    backdrop-filter: blur(20px);
    border-radius: 12px;
    width: 90%;
    max-width: 400px;
    max-height: 80vh;
    overflow: hidden;
    border: 1px solid var(--border-color);
  }

  .playlist-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 16px;
    border-bottom: 1px solid var(--border-color);
  }

  .playlist-header h3 {
    color: var(--text-primary);
    font-size: 18px;
    font-weight: 600;
    margin: 0;
  }

  .close-btn {
    width: 32px;
    height: 32px;
    border: none;
    background: var(--icon-bg);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--text-secondary);
    cursor: pointer;
    transition: all 0.2s ease;
  }

  .close-btn:hover {
    background: var(--icon-bg-hover);
    color: var(--text-primary);
  }

  .playlist-list {
    max-height: 60vh;
    overflow-y: auto;
    padding: 8px 0;
  }

  .playlist-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 8px 16px;
    cursor: pointer;
    transition: background 0.2s ease;
  }

  .playlist-item:hover {
    background: var(--playlist-hover);
  }

  /* 播放列表激活項目使用主題色 */
  .playlist-item.active {
    background: hsla(var(--primary-hue, 250), 70%, 60%, 0.2);
  }

  .playlist-item-cover {
    width: 40px;
    height: 40px;
    border-radius: 4px;
    object-fit: cover;
    flex-shrink: 0;
  }

  .playlist-item-info {
    flex: 1;
    min-width: 0;
  }

  .playlist-item-title {
    font-size: 14px;
    font-weight: 500;
    color: var(--text-primary);
    margin-bottom: 2px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .playlist-item-artist {
    font-size: 12px;
    color: var(--text-secondary);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .playlist-item-duration {
    font-size: 12px;
    color: var(--text-tertiary);
    flex-shrink: 0;
  }

  /* 響應式設計 */
  @media (max-width: 480px) {
    .player-container {
      width: calc(100vw - 30px);
      max-width: 280px;
      margin-left: 10px;
    }
    
    .player-container.expanded {
      width: calc(100vw - 30px);
      max-width: 320px;
    }

    .playlist-content {
      width: 95%;
      max-height: 85vh;
    }
  }

  /* 旋轉動畫 */
  @keyframes rotate {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  }

  .cover-img.playing {
    animation: rotate 10s linear infinite;
  }

  /* 滾動條樣式 */
  .playlist-list::-webkit-scrollbar {
    width: 6px;
  }

  .playlist-list::-webkit-scrollbar-track {
    background: var(--progress-track);
    border-radius: 3px;
  }

  .playlist-list::-webkit-scrollbar-thumb {
    background: var(--text-tertiary);
    border-radius: 3px;
  }

  .playlist-list::-webkit-scrollbar-thumb:hover {
    background: var(--text-secondary);
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    // 元素引用
    const playerContainer = document.getElementById('playerContainer');
    const expandBtn = document.getElementById('expandBtn');
    const hideBtn = document.getElementById('hideBtn');
    const hiddenTab = document.getElementById('hiddenTab');
    const playlistModal = document.getElementById('playlistModal');
    const playlistBtn = document.getElementById('playlistBtn');
    const closePlaylistBtn = document.getElementById('closePlaylistBtn');
    const audioPlayer = document.getElementById('audioPlayer');

    // 播放器狀態
    let isExpanded = false;
    let isHidden = false;
    let isPlaying = false;
    let isMuted = false;
    let isShuffleOn = false;
    let repeatMode = 0; // 0: 不循環, 1: 全部循環, 2: 單曲循環
    let volume = 0.3;
    let currentSongIndex = 0;
    let isDragging = false;
    let isVolumeDragging = false;
    let userInteracted = false; // 追蹤用戶是否已經互動
    let pendingAutoPlay = false; // 等待自動播放

    // 播放列表 - 使用示例音頻文件
    let playlist = [
      {
        title: "Echoes / 60min TOKYO Night Walking",
        artist: "SoundZenith",
        cover: "/audio/Echoes.png",
        url: "/audio/Echoes.mp3"
      },
      {
        title: "Nobody (from Kaiju No. 8)",
        artist: "OneRepublic",
        cover: "/audio/Nobody.png",
        url: "/audio/Nobody.mp3"
      }
    ];

    // 後台偵測用戶互動並自動播放
    function setupAutoPlay() {
      const events = ['click', 'touchstart', 'keydown', 'scroll', 'mousemove'];
      
      function handleUserInteraction() {
        if (!userInteracted) {
          userInteracted = true;
          console.log('用戶互動偵測到，準備自動播放');
          
          // 移除所有事件監聽器
          events.forEach(event => {
            document.removeEventListener(event, handleUserInteraction, { passive: true });
          });
          
          // 延遲自動播放（避免太突然）
          setTimeout(() => {
            if (!isPlaying && playlist.length > 0) {
              pendingAutoPlay = true;
              startAutoPlay();
            }
          }, 500);
        }
      }
      
      // 添加事件監聽器
      events.forEach(event => {
        document.addEventListener(event, handleUserInteraction, { passive: true });
      });
    }

    // 自動開始播放
    function startAutoPlay() {
      if (!userInteracted) return;
      
      loadSong(currentSongIndex);
      
      // 嘗試播放
      const playPromise = audioPlayer.play();
      
      if (playPromise !== undefined) {
        playPromise.then(() => {
          console.log('自動播放成功');
          isPlaying = true;
          document.querySelector('.cover-img').classList.add('playing');
          updatePlayButtons();
          updateTabIcon();
          updateMarquee();
        }).catch(error => {
          console.log('自動播放失敗，瀏覽器政策阻止：', error);
          pendingAutoPlay = false;
        });
      }
    }

    // 展開/收縮功能
    expandBtn.addEventListener('click', function() {
      toggleExpanded();
    });

    function toggleExpanded() {
      isExpanded = !isExpanded;
      if (isExpanded) {
        playerContainer.classList.add('expanded');
        expandBtn.setAttribute('title', '縮小播放器');
      } else {
        playerContainer.classList.remove('expanded');
        expandBtn.setAttribute('title', '展開播放器');
      }
    }

    // 隱藏/顯示播放器功能
    hideBtn.addEventListener('click', function() {
      hidePlayer();
    });

    hiddenTab.addEventListener('click', function() {
      showPlayer();
    });

    function hidePlayer() {
      isHidden = true;
      playerContainer.classList.add('hidden');
      setTimeout(() => {
        hiddenTab.classList.add('show');
      }, 400);
    }

    function showPlayer() {
      isHidden = false;
      hiddenTab.classList.remove('show');
      setTimeout(() => {
        playerContainer.classList.remove('hidden');
      }, 200);
    }

    // 播放/暫停功能
    const playButtons = [
      document.getElementById('playToggleBtn'),
      document.getElementById('mainPlayBtn'),
      document.getElementById('playOverlay')
    ];

    playButtons.forEach(btn => {
      if (btn) {
        btn.addEventListener('click', togglePlay);
      }
    });

    function togglePlay() {
      userInteracted = true; // 標記用戶已互動
      
      if (audioPlayer.paused) {
        const currentSong = playlist[currentSongIndex];
        if (audioPlayer.src !== window.location.origin + currentSong.url) {
          loadSong(currentSongIndex);
        }
        audioPlayer.play().then(() => {
          isPlaying = true;
          document.querySelector('.cover-img').classList.add('playing');
          updateMarquee();
        }).catch(error => {
          console.error('播放失敗:', error);
        });
      } else {
        audioPlayer.pause();
        isPlaying = false;
        document.querySelector('.cover-img').classList.remove('playing');
        updateMarquee();
      }
      updatePlayButtons();
      updateTabIcon();
    }

    function updatePlayButtons() {
      const pauseIcon = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"></path></svg>';
      const playIcon = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M8 19V5l11 7z"></path></svg>';
      
      const togglePauseIcon = '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"><path fill="currentColor" d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"></path></svg>';
      const togglePlayIcon = '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"><path fill="currentColor" d="M8 19V5l11 7z"></path></svg>';

      const mainPlayBtn = document.getElementById('mainPlayBtn');
      const toggleBtn = document.getElementById('playToggleBtn');
      
      if (mainPlayBtn) mainPlayBtn.innerHTML = isPlaying ? pauseIcon : playIcon;
      if (toggleBtn) toggleBtn.innerHTML = isPlaying ? togglePauseIcon : togglePlayIcon;
    }

    function updateTabIcon() {
      const tabPauseIcon = '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"><path fill="currentColor" d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"></path></svg>';
      const tabPlayIcon = '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"><path fill="currentColor" d="M8 19V5l11 7z"></path></svg>';
      
      document.querySelector('.tab-icon').innerHTML = isPlaying ? tabPauseIcon : tabPlayIcon;
    }

    // 跑馬燈功能
    function updateMarquee() {
      const songTitleEl = document.getElementById('songTitle');
      const titleTextEl = songTitleEl.querySelector('.title-text');
      
      if (isPlaying && titleTextEl.scrollWidth > songTitleEl.offsetWidth) {
        songTitleEl.classList.add('marquee');
      } else {
        songTitleEl.classList.remove('marquee');
      }
    }

    // 音頻事件監聽
    audioPlayer.addEventListener('loadedmetadata', function() {
      updateProgress();
      updateMarquee();
    });

    audioPlayer.addEventListener('timeupdate', function() {
      if (!isDragging) {
        updateProgress();
      }
    });

    audioPlayer.addEventListener('ended', function() {
      handleSongEnd();
    });

    audioPlayer.addEventListener('error', function(e) {
      console.error('音頻加載錯誤:', e);
      pendingAutoPlay = false;
    });

    audioPlayer.addEventListener('play', function() {
      isPlaying = true;
      updatePlayButtons();
      updateTabIcon();
      updateMarquee();
      document.querySelector('.cover-img').classList.add('playing');
    });

    audioPlayer.addEventListener('pause', function() {
      isPlaying = false;
      updatePlayButtons();
      updateTabIcon();
      updateMarquee();
      document.querySelector('.cover-img').classList.remove('playing');
    });

    // 進度條功能
    const progressBar = document.getElementById('progressBar');
    const progressFill = progressBar.querySelector('.progress-fill');
    const progressHandle = progressBar.querySelector('.progress-handle');

    progressBar.addEventListener('click', function(e) {
      if (!audioPlayer.duration) return;
      updateProgressFromEvent(e);
    });

    progressHandle.addEventListener('mousedown', function(e) {
      e.preventDefault();
      e.stopPropagation();
      isDragging = true;
    });

    document.addEventListener('mousemove', function(e) {
      if (isDragging) {
        e.preventDefault();
        updateProgressFromEvent(e);
      }
    });

    document.addEventListener('mouseup', function() {
      if (isDragging) {
        isDragging = false;
      }
    });

    function updateProgressFromEvent(e) {
      if (!audioPlayer.duration) return;
      
      const rect = progressBar.getBoundingClientRect();
      const clickX = Math.max(0, Math.min(rect.width, e.clientX - rect.left));
      const progress = clickX / rect.width;
      const newTime = progress * audioPlayer.duration;
      
      if (!isNaN(newTime) && isFinite(newTime) && newTime >= 0) {
        audioPlayer.currentTime = newTime;
        updateProgressDisplay(progress);
      }
    }

    function updateProgressDisplay(progress) {
      const progressPercent = progress * 100;
      progressFill.style.width = progressPercent + '%';
      progressHandle.style.left = progressPercent + '%';
    }

    function updateProgress() {
      if (!audioPlayer.duration) return;
      
      const currentTime = audioPlayer.currentTime || 0;
      const duration = audioPlayer.duration || 0;
      const progress = currentTime / duration;
      
      updateProgressDisplay(progress);
      
      const minutes = Math.floor(currentTime / 60);
      const seconds = Math.floor(currentTime % 60);
      const timeString = `${minutes}:${seconds.toString().padStart(2, '0')}`;
      
      const totalMinutes = Math.floor(duration / 60);
      const totalSeconds = Math.floor(duration % 60);
      const totalTimeString = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
      
      const songTimeEl = document.querySelector('.song-time');
      if (songTimeEl) {
        songTimeEl.textContent = `${timeString} / ${totalTimeString}`;
      }
    }

    function handleSongEnd() {
      if (repeatMode === 2) { // 單曲循環
        audioPlayer.currentTime = 0;
        audioPlayer.play();
      } else if (repeatMode === 1 || currentSongIndex < playlist.length - 1) { // 全部循環或有下一首
        nextSong();
      } else {
        isPlaying = false;
        updatePlayButtons();
        updateTabIcon();
        updateMarquee();
        document.querySelector('.cover-img').classList.remove('playing');
      }
    }

    // 音量控制
    const volumeBar = document.getElementById('volumeBar');
    const volumeFill = volumeBar.querySelector('.volume-fill');
    const volumeHandle = volumeBar.querySelector('.volume-handle');
    const volumeBtn = document.getElementById('volumeBtn');
    let lastVolume = volume;

    volumeBar.addEventListener('mousedown', function(e) {
      if (e.target === volumeHandle) {
        isVolumeDragging = true;
        return;
      }
      updateVolumeFromEvent(e);
    });

    volumeHandle.addEventListener('mousedown', function(e) {
      e.preventDefault();
      isVolumeDragging = true;
    });

    document.addEventListener('mousemove', function(e) {
      if (isVolumeDragging) {
        e.preventDefault();
        updateVolumeFromEvent(e);
      }
    });

    document.addEventListener('mouseup', function() {
      isVolumeDragging = false;
    });

    function updateVolumeFromEvent(e) {
      const rect = volumeBar.getBoundingClientRect();
      const clickX = Math.max(0, Math.min(rect.width, e.clientX - rect.left));
      volume = clickX / rect.width;
      audioPlayer.volume = volume;
      updateVolumeDisplay();
      updateVolumeIcon();
      if (volume > 0) {
        isMuted = false;
        lastVolume = volume;
      }
    }

    function updateVolumeDisplay() {
      const volumePercent = volume * 100;
      volumeFill.style.width = volumePercent + '%';
      volumeHandle.style.left = volumePercent + '%';
    }

    function updateVolumeIcon() {
      let iconSvg;
      if (isMuted || volume === 0) {
        iconSvg = '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="currentColor" d="M16.5 12A4.5 4.5 0 0 0 14 7.97v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51A8.796 8.796 0 0 0 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27L7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06a8.99 8.99 0 0 0 3.69-1.81L19.73 21L21 19.73l-9-9L4.27 3zM12 4L9.91 6.09L12 8.18V4z"/></svg>';
      } else if (volume < 0.3) {
        iconSvg = '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="currentColor" d="M3 9v6h4l5 5V4L7 9H3zm13.5 3A4.5 4.5 0 0 0 14 7.97v8.05c1.48-.73 2.5-2.25 2.5-4.02z"/></svg>';
      } else if (volume < 0.7) {
        iconSvg = '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="currentColor" d="M14 16V7.95q1.175.55 1.838 1.65T16.5 12q0 1.275-.663 2.363T14 16M3 15V9h4l5-5v16l-5-5z"/></svg>';
      } else {
        iconSvg = '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="currentColor" d="M14 20.725v-2.05q2.25-.65 3.625-2.5t1.375-4.2t-1.375-4.2T14 5.275v-2.05q3.1.7 5.05 3.138T21 11.975t-1.95 5.613T14 20.725M3 15V9h4l5-5v16l-5-5zm11 1V7.95q1.175.55 1.838 1.65T16.5 12q0 1.275-.663 2.363T14 16"/></svg>';
      }
      volumeBtn.querySelector('.volume-icon').innerHTML = iconSvg;
    }

    volumeBtn.addEventListener('click', function() {
      if (isMuted) {
        isMuted = false;
        volume = lastVolume;
        audioPlayer.volume = volume;
      } else {
        isMuted = true;
        lastVolume = volume;
        volume = 0;
        audioPlayer.volume = 0;
      }
      updateVolumeDisplay();
      updateVolumeIcon();
    });

    // 播放控制按鈕
    document.getElementById('prevBtn')?.addEventListener('click', prevSong);
    document.getElementById('nextBtn')?.addEventListener('click', nextSong);

    function prevSong() {
      if (isShuffleOn) {
        currentSongIndex = Math.floor(Math.random() * playlist.length);
      } else {
        currentSongIndex = (currentSongIndex - 1 + playlist.length) % playlist.length;
      }
      loadSong(currentSongIndex);
      if (isPlaying) {
        audioPlayer.play();
      }
    }

    function nextSong() {
      if (isShuffleOn) {
        currentSongIndex = Math.floor(Math.random() * playlist.length);
      } else {
        currentSongIndex = (currentSongIndex + 1) % playlist.length;
      }
      loadSong(currentSongIndex);
      if (isPlaying) {
        audioPlayer.play();
      }
    }

    function loadSong(index) {
      if (index >= 0 && index < playlist.length) {
        const song = playlist[index];
        currentSongIndex = index;
        
        // 更新UI
        const titleTextEl = document.querySelector('.title-text');
        titleTextEl.textContent = song.title;
        document.getElementById('songArtist').textContent = song.artist;
        document.getElementById('coverImg').src = song.cover;
        
        // 設置音頻源
        audioPlayer.src = song.url;
        audioPlayer.volume = volume;
        
        updatePlaylistDisplay();
        updateMarquee();
      }
    }

    // 隨機播放和循環播放
    document.getElementById('shuffleBtn')?.addEventListener('click', function() {
      isShuffleOn = !isShuffleOn;
      this.classList.toggle('active', isShuffleOn);
    });

    document.getElementById('repeatBtn')?.addEventListener('click', function() {
      repeatMode = (repeatMode + 1) % 3;
      
      let iconSvg;
      switch (repeatMode) {
        case 0: // 不循環
          this.classList.remove('active');
          iconSvg = '<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"><path fill="currentColor" d="m7 22l-4-4l4-4l1.4 1.45L6.85 17H17v-4h2v6H6.85l1.55 1.55zM5 11V5h12.15L15.6 3.45L17 2l4 4l-4 4l-1.4-1.45L17.15 7H7v4z"></path></svg>';
          break;
        case 1: // 全部循環
          this.classList.add('active');
          iconSvg = '<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"><path fill="currentColor" d="m7 22l-4-4l4-4l1.4 1.45L6.85 17H17v-4h2v6H6.85l1.55 1.55zM5 11V5h12.15L15.6 3.45L17 2l4 4l-4 4l-1.4-1.45L17.15 7H7v4z"></path></svg>';
          break;
        case 2: // 單曲循環
          this.classList.add('active');
          iconSvg = '<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"><path fill="currentColor" d="M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z"></path><text x="12" y="15" text-anchor="middle" font-size="8" fill="currentColor">1</text></svg>';
          break;
      }
      
      this.innerHTML = iconSvg;
    });

    // 播放列表功能
    playlistBtn.addEventListener('click', function() {
      playlistModal.classList.add('show');
      updatePlaylistDisplay();
    });

    closePlaylistBtn.addEventListener('click', function() {
      playlistModal.classList.remove('show');
    });

    playlistModal.addEventListener('click', function(e) {
      if (e.target === playlistModal) {
        playlistModal.classList.remove('show');
      }
    });

    function updatePlaylistDisplay() {
      const playlistList = document.getElementById('playlistList');
      playlistList.innerHTML = '';
      
      playlist.forEach((song, index) => {
        const item = document.createElement('div');
        item.className = `playlist-item ${index === currentSongIndex ? 'active' : ''}`;
        
        item.innerHTML = `
          <img src="${song.cover}" alt="封面" class="playlist-item-cover">
          <div class="playlist-item-info">
            <div class="playlist-item-title">${song.title}</div>
            <div class="playlist-item-artist">${song.artist}</div>
          </div>
          <div class="playlist-item-duration">--:--</div>
        `;
        
        item.addEventListener('click', function() {
          loadSong(index);
          playlistModal.classList.remove('show');
          if (!isPlaying) {
            togglePlay();
          } else {
            audioPlayer.play();
          }
        });
        
        playlistList.appendChild(item);
      });
    }

    // 鍵盤快捷鍵
    document.addEventListener('keydown', function(e) {
      if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') return;
      
      switch(e.code) {
        case 'Space':
          e.preventDefault();
          togglePlay();
          break;
        case 'ArrowLeft':
          e.preventDefault();
          if (audioPlayer.currentTime > 5) {
            audioPlayer.currentTime -= 5;
          }
          break;
        case 'ArrowRight':
          e.preventDefault();
          audioPlayer.currentTime += 5;
          break;
        case 'ArrowUp':
          e.preventDefault();
          volume = Math.min(1, volume + 0.1);
          audioPlayer.volume = volume;
          updateVolumeDisplay();
          updateVolumeIcon();
          break;
        case 'ArrowDown':
          e.preventDefault();
          volume = Math.max(0, volume - 0.1);
          audioPlayer.volume = volume;
          updateVolumeDisplay();
          updateVolumeIcon();
          break;
      }
    });

    // 初始化播放器
    function initPlayer() {
      // 設置初始音量
      audioPlayer.volume = volume;
      updateVolumeDisplay();
      updateVolumeIcon();
      updatePlaylistDisplay();
      
      // 確保播放器保持收縮狀態
      isExpanded = false;
      playerContainer.classList.remove('expanded');
      expandBtn.setAttribute('title', '展開播放器');
      
      // 只載入歌曲信息，不設置音頻源（避免預載入）
      if (playlist.length > 0) {
        const song = playlist[0];
        const titleTextEl = document.querySelector('.title-text');
        titleTextEl.textContent = song.title;
        document.getElementById('songArtist').textContent = song.artist;
        document.getElementById('coverImg').src = song.cover;
        updateMarquee();
      }
      
      // 設置後台自動播放偵測
      setupAutoPlay();
    }

    // 啟動播放器
    initPlayer();
  });
</script>

<style>
/* 主题适配的 Wave 颜色配置 */
:root {
  --wave-color: #090e13;
}

/* 明亮主题的 Wave 颜色 */
:root[theme="light"] {
  --wave-color: #eaeff5;
}

/* 轮播容器 */
.banner-slideshow {
  position: relative;
  width: 100%;
  height: 100%;
  overflow: hidden;
}

.banner-slideshow:not(.initialized) .banner-media {
  display: none !important;
}

.banner-media {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: all 0.5s ease-in-out;
  opacity: 0;
  transform: scale(1.2);
  visibility: hidden;
  /* 移除固定的 object-position，改为动态设置 */
}

.banner-media.active {
  opacity: 1;
  transform: scale(1);
  visibility: visible;
}

.banner-media.leaving {
  opacity: 0;
  transform: scale(1.3);
}

/* 标题覆盖层 */
.banner-title-overlay {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 2;
  text-align: center;
  color: white;
  pointer-events: none;
}

.main-title {
  font-size: 4rem;
  font-weight: bold;
  color: white;
  text-shadow: 0 8px 16px rgba(0, 0, 0, 0.5);
  margin: 0 0 1rem 0;
  animation: fadeInUp 1s ease-out;
}

.sub-title {
  font-size: 1.5rem;
  color: rgba(255, 255, 255, 0.9);
  text-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
  margin: 0;
  min-height: 2em;
  display: flex;
  align-items: center;
  justify-content: center;
}

.typewriter {
  border-right: 2px solid rgba(255, 255, 255, 0.7);
  padding-right: 2px;
  animation: blink 1s infinite;
  min-width: 1px;
}

/* Wave 效果样式 */
.waves-container {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 10vh;
  min-height: 70px;
  max-height: 120px;
  overflow: hidden;
  line-height: 0;
  z-index: 0;
}

.waves {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  margin-bottom: -7px;
  min-height: 70px;
  max-height: 120px;
  transition: opacity 0.5s ease;
}

/* 暗色主题的 Wave */
.waves-dark {
  opacity: 1;
}

.waves-dark .wave1 {
  animation: move-forever 20s cubic-bezier(.55,.5,.45,.5) infinite;
  opacity: 0.3;
  fill: #090e13;
}

.waves-dark .wave2 {
  animation: move-forever 15s cubic-bezier(.55,.5,.45,.5) infinite;
  opacity: 0.5;
  fill: #090e13;
  animation-delay: -3s;
}

.waves-dark .wave3 {
  animation: move-forever 16s cubic-bezier(.55,.5,.45,.5) infinite;
  opacity: 0.8;
  fill: #090e13;
  animation-delay: -4s;
}

.waves-dark .wave4 {
  animation: move-forever 14s cubic-bezier(.55,.5,.45,.5) infinite;
  opacity: 1;
  fill: #090e13;
  animation-delay: -5s;
}

/* 明亮主题的 Wave */
.waves-light {
  opacity: 0;
}

.waves-light .wave1 {
  animation: move-forever 20s cubic-bezier(.55,.5,.45,.5) infinite;
  opacity: 0.3;
  fill: #eaeff5;
}

.waves-light .wave2 {
  animation: move-forever 15s cubic-bezier(.55,.5,.45,.5) infinite;
  opacity: 0.5;
  fill: #eaeff5;
  animation-delay: -3s;
}

.waves-light .wave3 {
  animation: move-forever 16s cubic-bezier(.55,.5,.45,.5) infinite;
  opacity: 0.8;
  fill: #eaeff5;
  animation-delay: -4s;
}

.waves-light .wave4 {
  animation: move-forever 14s cubic-bezier(.55,.5,.45,.5) infinite;
  opacity: 1;
  fill: #eaeff5;
  animation-delay: -5s;
}

/* 主题切换时的显示控制 */
:root[theme="light"] .waves-dark {
  opacity: 0;
}

:root[theme="light"] .waves-light {
  opacity: 1;
}

@keyframes move-forever {
  0% {
    transform: translate3d(-90px, 0, 0);
  }
  100% { 
    transform: translate3d(85px, 0, 0);
  }
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes blink {
  0%, 50% { 
    border-color: rgba(255, 255, 255, 0.7); 
  }
  51%, 100% { 
    border-color: transparent; 
  }
}

/* 响应式媒体显示控制 */
.desktop-media {
  display: block;
}

.mobile-media {
  display: none;
}

@media (max-width: 768px) {
  .desktop-media {
    display: none;
  }
  
  .mobile-media {
    display: block;
  }
}

@media (max-width: 767px) {
  .main-title {
    font-size: 2.5rem;
    margin-bottom: 0.5rem;
  }
  
  .sub-title {
    font-size: 1.2rem;
  }
  
  .waves-container {
    height: 7vh;
    min-height: 50px;
    max-height: 90px;
  }
  
  .waves {
    min-height: 50px;
    max-height: 90px;
  }
}

@media (max-width: 480px) {
  .main-title {
    font-size: 2rem;
    margin-bottom: 0.5rem;
  }
  
  .sub-title {
    font-size: 1rem;
  }
  
  .waves-container {
    height: 6vh;
    min-height: 40px;
    max-height: 70px;
  }
  
  .waves {
    min-height: 40px;
    max-height: 70px;
  }
}

@media (max-width: 320px) {
  /* 删除这行：object-position: center center !important; */
  
  .main-title {
    font-size: 1.5rem;
  }
  
  .sub-title {
    font-size: 0.9rem;
  }
}

@media (min-width: 1024px) {
  .main-title {
    font-size: 6rem;
    margin-bottom: 1.5rem;
  }
  
  .sub-title {
    font-size: 2rem;
  }
  
  .waves-container {
    height: 12vh;
    min-height: 100px;
    max-height: 150px;
  }
  
  .waves {
    min-height: 100px;
    max-height: 150px;
  }
}

/* 首页特效 */
#banner.is_home .main-title {
  animation-delay: 0.3s;
  animation-fill-mode: both;
}

#banner.is_home .sub-title {
  animation: fadeInUp 1s ease-out 0.6s both;
}

/* 暗化层 */
#banner-dim {
  display: none !important;
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const bannerSlideshow = document.querySelector('.banner-slideshow');
  
  if (!bannerSlideshow) return;
  
  // 设置媒体元素的 object-position
  function setMediaPositions() {
    const isDesktop = window.innerWidth > 768;
    const currentMedia = document.querySelectorAll(isDesktop ? '.desktop-media' : '.mobile-media');
    
    currentMedia.forEach(media => {
      const position = isDesktop ? 
        media.dataset.desktopPosition : 
        media.dataset.mobilePosition;
      
      if (position) {
        media.style.objectPosition = position;
      }
    });
  }
  
  // 获取当前屏幕尺寸对应的媒体元素
  function getCurrentMediaElements() {
    const isDesktop = window.innerWidth > 768;
    return document.querySelectorAll(isDesktop ? '.desktop-media' : '.mobile-media');
  }
  
  let currentIndex = 0;
  let slideshowStarted = false;
  let slideInterval = null;
  
  function initializeSlideshow() {
    // 首先设置位置
    setMediaPositions();
    
    const currentMedia = getCurrentMediaElements();
    
    if (currentMedia.length === 0) return;
    
    // 立即隐藏所有媒体元素，防止闪烁
    document.querySelectorAll('.banner-media').forEach(media => {
      media.style.opacity = '0';
      media.style.visibility = 'hidden';
      media.style.display = 'none';
      media.classList.remove('active', 'leaving');
    });
    
    if (currentMedia.length > 1) {
      // 多张图片/视频的轮播逻辑
      preloadAndStartSlideshow(currentMedia);
    } else {
      // 单张图片/视频直接显示
      showSingleMedia(currentMedia[0]);
    }
  }
  
  function preloadAndStartSlideshow(mediaElements) {
    const promises = Array.from(mediaElements).map((media) => {
      return new Promise((resolve) => {
        if (media.tagName === 'VIDEO') {
          const handleLoaded = () => {
            media.removeEventListener('loadeddata', handleLoaded);
            media.removeEventListener('error', handleError);
            resolve(true);
          };
          const handleError = () => {
            media.removeEventListener('loadeddata', handleLoaded);
            media.removeEventListener('error', handleError);
            resolve(false);
          };
          
          media.addEventListener('loadeddata', handleLoaded);
          media.addEventListener('error', handleError);
          media.load();
        } else {
          const tempImg = new Image();
          tempImg.onload = () => resolve(true);
          tempImg.onerror = () => resolve(false);
          tempImg.src = media.src;
        }
      });
    });
    
    Promise.allSettled(promises).then(() => {
      startSlideshow(mediaElements);
    });
  }
  
  function startSlideshow(mediaElements) {
    if (slideshowStarted) return;
    slideshowStarted = true;
    
    // 标记初始化完成
    bannerSlideshow.classList.add('initialized');
    
    // 重置当前索引
    currentIndex = 0;
    
    // 显示第一个媒体元素
    mediaElements.forEach((media, index) => {
      media.style.display = 'block';
      media.style.visibility = 'visible';
      if (index === 0) {
        media.style.opacity = '1';
        media.style.transform = 'scale(1)';
        media.classList.add('active');
        
        if (media.tagName === 'VIDEO') {
          media.currentTime = 0;
          media.play().catch(e => console.log('Video autoplay failed:', e));
        }
      } else {
        media.style.opacity = '0';
        media.style.transform = 'scale(1.2)';
      }
    });
    
    // 开始自动轮播
    if (slideInterval) clearInterval(slideInterval);
    slideInterval = setInterval(() => nextSlide(mediaElements), 3000);
  }
  
  function showSingleMedia(media) {
    bannerSlideshow.classList.add('initialized');
    media.style.display = 'block';
    media.style.visibility = 'visible';
    media.style.opacity = '1';
    media.style.transform = 'scale(1)';
    media.classList.add('active');
    
    if (media.tagName === 'VIDEO') {
      media.currentTime = 0;
      media.play().catch(e => console.log('Video autoplay failed:', e));
    }
  }
  
  function nextSlide(mediaElements) {
    if (!slideshowStarted || mediaElements.length <= 1) return;
    
    const current = mediaElements[currentIndex];
    const nextIndex = (currentIndex + 1) % mediaElements.length;
    const next = mediaElements[nextIndex];
    
    // 暂停当前视频
    if (current.tagName === 'VIDEO') {
      current.pause();
    }
    
    // 切换动画
    current.classList.add('leaving');
    current.style.opacity = '0';
    current.style.transform = 'scale(1.3)';
    
    next.classList.add('active');
    next.style.opacity = '1';
    next.style.transform = 'scale(1)';
    
    // 播放新视频
    if (next.tagName === 'VIDEO') {
      next.currentTime = 0;
      next.play().catch(e => console.log('Video autoplay failed:', e));
    }
    
    // 清理样式
    setTimeout(() => {
      current.classList.remove('active', 'leaving');
      current.style.transform = 'scale(1.2)';
    }, 500);
    
    currentIndex = nextIndex;
  }
  
  // 响应式处理：窗口大小改变时重新初始化
  let resizeTimeout;
  function handleResize() {
    clearTimeout(resizeTimeout);
    resizeTimeout = setTimeout(() => {
      if (slideInterval) {
        clearInterval(slideInterval);
        slideInterval = null;
      }
      slideshowStarted = false;
      currentIndex = 0;
      
      // 重新设置位置和初始化
      setMediaPositions();
      setTimeout(initializeSlideshow, 100);
    }, 250);
  }
  
  window.addEventListener('resize', handleResize);
  
  // 初始化
  initializeSlideshow();

  // 打字机效果
  const typewriterElements = document.querySelectorAll('.typewriter');

  class TypeWriter {
    constructor(element) {
      this.element = element;
      
      try {
        this.texts = JSON.parse(element.dataset.texts || '["Default text"]');
      } catch (e) {
        this.texts = ["Default text"];
      }
      
      this.speed = parseInt(element.dataset.speed || '100');
      this.deleteSpeed = parseInt(element.dataset.deleteSpeed || '50');
      this.pauseTime = parseInt(element.dataset.pauseTime || '2000');
      
      this.currentTextIndex = 0;
      this.currentCharIndex = 0;
      this.isDeleting = false;
      this.timeoutId = null;
      
      this.start();
    }

    start() {
      if (this.texts.length === 0) return;
      this.type();
    }

    type() {
      const currentText = this.texts[this.currentTextIndex] || '';
      
      if (this.isDeleting) {
        if (this.currentCharIndex > 0) {
          this.currentCharIndex--;
          this.element.textContent = currentText.substring(0, this.currentCharIndex);
          this.timeoutId = setTimeout(() => this.type(), this.deleteSpeed);
        } else {
          this.isDeleting = false;
          this.currentTextIndex = (this.currentTextIndex + 1) % this.texts.length;
          this.timeoutId = setTimeout(() => this.type(), this.speed);
        }
      } else {
        if (this.currentCharIndex < currentText.length) {
          this.currentCharIndex++;
          this.element.textContent = currentText.substring(0, this.currentCharIndex);
          this.timeoutId = setTimeout(() => this.type(), this.speed);
        } else {
          if (this.texts.length > 1) {
            this.isDeleting = true;
            this.timeoutId = setTimeout(() => this.type(), this.pauseTime);
          }
        }
      }
    }

    destroy() {
      if (this.timeoutId) {
        clearTimeout(this.timeoutId);
      }
    }
  }

  const typewriters = [];
  typewriterElements.forEach(element => {
    typewriters.push(new TypeWriter(element));
  });

  window.addEventListener('beforeunload', function() {
    typewriters.forEach(tw => tw.destroy());
    if (slideInterval) clearInterval(slideInterval);
  });
});
</script> 
   
  <div id="main-grid" class="  ">
    <div id="nav" class=""  >
      <navbar id="navbar">
  <!-- 左邊 Logo + 標題 -->
  <nav id="title-nav">
    <a href="/">
      <div id="home-logo">
        <span class="logo-icon"><svg xmlns="http://www.w3.org/2000/svg" width="1.7em" height="1.7em" viewBox="0 -1 24 24">
    <path fill="currentColor" d="M6 19h3v-5q0-.425.288-.712T10 13h4q.425 0 .713.288T15 14v5h3v-9l-6-4.5L6 10zm-2 0v-9q0-.475.213-.9t.587-.7l6-4.5q.525-.4 1.2-.4t1.2.4l6 4.5q.375.275.588.7T20 10v9q0 .825-.588 1.413T18 21h-4q-.425 0-.712-.288T13 20v-5h-2v5q0 .425-.288.713T10 21H6q-.825 0-1.412-.587T4 19m8-6.75"/>
</svg>
</span>
      </div>
      <div style="margin-left: 10px;">虎头鯨</div>
    </a>
  </nav>

  <!-- 中間主選單 -->
  <nav id="main-nav">
    
      
      
      <!-- 判断是否为下拉菜单 -->
      
        <!-- 普通菜单项 -->
        <a class="main-nav-link" href="/">
          <!-- 單個選單項目圖標 -->
          
            
              <i class="fas fa-home" style="margin-right: 5px;"></i>
            
          
          首頁
        </a>
      
    
      
      
      <!-- 判断是否为下拉菜单 -->
      
        <!-- 普通菜单项 -->
        <a class="main-nav-link" href="/archives">
          <!-- 單個選單項目圖標 -->
          
            
              <i class="fas fa-archive" style="margin-right: 5px;"></i>
            
          
          彙整
        </a>
      
    
      
      
      <!-- 判断是否为下拉菜单 -->
      
        <!-- 下拉菜单项 -->
        <div class="nav-dropdown">
          <a href="#" class="main-nav-link dropdown-trigger">
            <!-- 主選單項目圖標 -->
            
              
                <i class="fas fa-link" style="margin-right: 5px;"></i>
              
            
            連結
            <!-- 自定義下拉箭頭 -->
            
            
              <i class="dropdown-arrow fas fa-chevron-down" style="margin-left: 5px; font-size: 0.8em; transition: transform 0.3s;"></i>
            
          </a>
          <div class="dropdown-menu">
            
              
            
              
            
              
                
                
                  <a href="https://discordapp.com/users/975001678350811206" class="dropdown-item" target="_blank">
                    <div style="display: flex; align-items: center;">
                      
                        <span style="margin-right: 8px; display: flex; align-items: center; width: 16px;">
                          
                            <i class="fab fa-discord" style="font-size: 14px;"></i>
                          
                        </span>
                      
                      Discord
                    </div>
                    
                      <span style="font-size: 0.8em; opacity: 0.7;">↗</span>
                    
                  </a>
                
              
            
              
                
                
                  <a href="https://steamcommunity.com/id/DEVlenient/" class="dropdown-item" target="_blank">
                    <div style="display: flex; align-items: center;">
                      
                        <span style="margin-right: 8px; display: flex; align-items: center; width: 16px;">
                          
                            <i class="fab fa-steam" style="font-size: 14px;"></i>
                          
                        </span>
                      
                      Steam
                    </div>
                    
                      <span style="font-size: 0.8em; opacity: 0.7;">↗</span>
                    
                  </a>
                
              
            
              
                
                
                  <a href="https://github.com/AixLnyt" class="dropdown-item" target="_blank">
                    <div style="display: flex; align-items: center;">
                      
                        <span style="margin-right: 8px; display: flex; align-items: center; width: 16px;">
                          
                            <i class="fab fa-github" style="font-size: 14px;"></i>
                          
                        </span>
                      
                      GitHub
                    </div>
                    
                      <span style="font-size: 0.8em; opacity: 0.7;">↗</span>
                    
                  </a>
                
              
            
          </div>
        </div>
      
    
      
      
      <!-- 判断是否为下拉菜单 -->
      
        <!-- 普通菜单项 -->
        <a class="main-nav-link" href="/menu/anime">
          <!-- 單個選單項目圖標 -->
          
            
              <i class="fas fa-play-circle" style="margin-right: 5px;"></i>
            
          
          動漫
        </a>
      
    
      
      
      <!-- 判断是否为下拉菜单 -->
      
        <!-- 普通菜单项 -->
        <a class="main-nav-link" href="/menu/about">
          <!-- 單個選單項目圖標 -->
          
            
              <i class="fas fa-user" style="margin-right: 5px;"></i>
            
          
          關於
        </a>
      
    
      
      
      <!-- 判断是否为下拉菜单 -->
      
        <!-- 普通菜单项 -->
        <a class="main-nav-link" href="/menu/sponsor">
          <!-- 單個選單項目圖標 -->
          
            
              <i class="fas fa-heart" style="margin-right: 5px;"></i>
            
          
          贊助
        </a>
      
    
  </nav>

  <!-- 右邊功能 -->
  <nav id="sub-nav">
    <!-- 主題模式切換 -->
    <a id="theme-btn" class="nav-icon" title="切換亮暗模式">
      <span class="light-mode-icon"><svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20">
    <path d="M438.5-829.913v-48q0-17.452 11.963-29.476 11.964-12.024 29.326-12.024 17.363 0 29.537 12.024t12.174 29.476v48q0 17.452-11.963 29.476-11.964 12.024-29.326 12.024-17.363 0-29.537-12.024T438.5-829.913Zm0 747.826v-48q0-17.452 11.963-29.476 11.964-12.024 29.326-12.024 17.363 0 29.537 12.024t12.174 29.476v48q0 17.452-11.963 29.476-11.964 12.024-29.326 12.024-17.363 0-29.537-12.024T438.5-82.087ZM877.913-438.5h-48q-17.452 0-29.476-11.963-12.024-11.964-12.024-29.326 0-17.363 12.024-29.537t29.476-12.174h48q17.452 0 29.476 11.963 12.024 11.964 12.024 29.326 0 17.363-12.024 29.537T877.913-438.5Zm-747.826 0h-48q-17.452 0-29.476-11.963-12.024-11.964-12.024-29.326 0-17.363 12.024-29.537T82.087-521.5h48q17.452 0 29.476 11.963 12.024 11.964 12.024 29.326 0 17.363-12.024 29.537T130.087-438.5Zm660.174-290.87-34.239 32q-12.913 12.674-29.565 12.174-16.653-.5-29.327-13.174-12.674-12.673-12.554-28.826.12-16.152 12.794-28.826l33-35q12.913-12.674 30.454-12.674t30.163 12.847q12.709 12.846 12.328 30.826-.38 17.98-13.054 30.653ZM262.63-203.978l-32 34q-12.913 12.674-30.454 12.674t-30.163-12.847q-12.709-12.846-12.328-30.826.38-17.98 13.054-30.653l33.239-31q12.913-12.674 29.565-12.174 16.653.5 29.327 13.174 12.674 12.673 12.554 28.826-.12 16.152-12.794 28.826Zm466.74 33.239-32-33.239q-12.674-12.913-12.174-29.565.5-16.653 13.174-29.327 12.673-12.674 28.826-13.054 16.152-.38 28.826 12.294l35 33q12.674 12.913 12.674 30.454t-12.847 30.163q-12.846 12.709-30.826 12.328-17.98-.38-30.653-13.054ZM203.978-697.37l-34-33q-12.674-12.913-13.174-29.945-.5-17.033 12.174-29.707t31.326-13.293q18.653-.62 31.326 13.054l32 34.239q11.674 12.913 11.174 29.565-.5 16.653-13.174 29.327-12.673 12.674-28.826 12.554-16.152-.12-28.826-12.794ZM480-240q-100 0-170-70t-70-170q0-100 70-170t170-70q100 0 170 70t70 170q0 100-70 170t-170 70Zm-.247-82q65.703 0 111.475-46.272Q637-414.544 637-480.247t-45.525-111.228Q545.95-637 480.247-637t-111.475 45.525Q323-545.95 323-480.247t45.525 111.975Q414.05-322 479.753-322ZM481-481Z"/>
</svg></span>
      <span class="dark-mode-icon"><svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20">
    <path d="M480.239-116.413q-152.63 0-258.228-105.478Q116.413-327.37 116.413-480q0-130.935 77.739-227.435t206.304-125.043q43.022-9.631 63.87 10.869t3.478 62.805q-8.891 22.043-14.315 44.463-5.424 22.42-5.424 46.689 0 91.694 64.326 155.879 64.325 64.186 156.218 64.186 24.369 0 46.978-4.946 22.609-4.945 44.413-14.076 42.826-17.369 62.967 1.142 20.142 18.511 10.511 61.054Q807.174-280 712.63-198.206q-94.543 81.793-232.391 81.793Zm0-95q79.783 0 143.337-40.217 63.554-40.218 95.793-108.283-15.608 4.044-31.097 5.326-15.49 1.283-31.859.805-123.706-4.066-210.777-90.539-87.071-86.473-91.614-212.092-.24-16.369.923-31.978 1.164-15.609 5.446-30.978-67.826 32.478-108.282 96.152Q211.652-559.543 211.652-480q0 111.929 78.329 190.258 78.329 78.329 190.258 78.329ZM466.13-465.891Z"/>
</svg></span>
    </a>

    <!-- 色調選擇 -->
    <a id="hue-btn" class="nav-icon" title="色調選擇">
      <span class="hue-icon"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" style="vertical-align: middle;">
    <path fill="currentColor" d="M12 22q-2.05 0-3.875-.788t-3.187-2.15t-2.15-3.187T2 12q0-2.075.813-3.9t2.2-3.175T8.25 2.788T12.2 2q2 0 3.775.688t3.113 1.9t2.125 2.875T22 11.05q0 2.875-1.75 4.413T16 17h-1.85q-.225 0-.312.125t-.088.275q0 .3.375.863t.375 1.287q0 1.25-.687 1.85T12 22m-5.5-9q.65 0 1.075-.425T8 11.5t-.425-1.075T6.5 10t-1.075.425T5 11.5t.425 1.075T6.5 13m3-4q.65 0 1.075-.425T11 7.5t-.425-1.075T9.5 6t-1.075.425T8 7.5t.425 1.075T9.5 9m5 0q.65 0 1.075-.425T16 7.5t-.425-1.075T14.5 6t-1.075.425T13 7.5t.425 1.075T14.5 9m3 4q.65 0 1.075-.425T19 11.5t-.425-1.075T17.5 10t-1.075.425T16 11.5t.425 1.075T17.5 13M12 20q.225 0 .363-.125t.137-.325q0-.35-.375-.825T11.75 17.3q0-1.05.725-1.675T14.25 15H16q1.65 0 2.825-.962T20 11.05q0-3.025-2.312-5.038T12.2 4Q8.8 4 6.4 6.325T4 12q0 3.325 2.338 5.663T12 20"/>
</svg></span>
    </a>
    <div id="hue-picker" class="hidden">
      <div class="hue-header">
        <div class="hue-title">
          <span class="hue-bar"></span>
          主題色
          <button id="reset-btn" title="重置為預設值" class="hidden">
            <span class="reset-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 512 512">
    <path fill="currentColor" d="M125.7 160H176c17.7 0 32 14.3 32 32s-14.3 32-32 32H48c-17.7 0-32-14.3-32-32V64c0-17.7 14.3-32 32-32s32 14.3 32 32v51.2l17.6-17.6c87.5-87.5 229.3-87.5 316.8 0s87.5 229.3 0 316.8s-229.3 87.5-316.8 0c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0c62.5 62.5 163.8 62.5 226.3 0s62.5-163.8 0-226.3s-163.8-62.5-226.3 0z"/>
</svg></span>
          </button>
        </div>
        <div id="hue-value-box">250</div>
      </div>
      <div class="hue-slider">
        <input type="range" id="hue-range" min="0" max="360" value="250" step="5">
      </div>
    </div>

    <!-- 漢堡選單（小螢幕顯示） -->
    <div id="nav-menu-btn" class="nav-icon">
      <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20">
    <path d="M177.37-252.282q-17.453 0-29.477-11.964-12.024-11.963-12.024-29.326t12.024-29.537q12.024-12.174 29.477-12.174h605.26q17.453 0 29.477 11.964 12.024 11.963 12.024 29.326t-12.024 29.537q-12.024 12.174-29.477 12.174H177.37Zm0-186.218q-17.453 0-29.477-11.963-12.024-11.964-12.024-29.326 0-17.363 12.024-29.537T177.37-521.5h605.26q17.453 0 29.477 11.963 12.024 11.964 12.024 29.326 0 17.363-12.024 29.537T782.63-438.5H177.37Zm0-186.217q-17.453 0-29.477-11.964-12.024-11.963-12.024-29.326t12.024-29.537q12.024-12.174 29.477-12.174h605.26q17.453 0 29.477 11.964 12.024 11.963 12.024 29.326t-12.024 29.537q-12.024 12.174-29.477 12.174H177.37Z"/>
</svg>
    </div>
  </nav>
</navbar>

<style>
  /* 下拉菜单相关样式 - 新增功能 */
  .nav-dropdown {
    position: relative;
  }

  .dropdown-trigger {
    cursor: pointer;
  }

  /* 修正：箭頭旋轉效果 - 展開時向上，收起時向下 */
  .nav-dropdown.active .dropdown-arrow {
    transform: rotate(180deg);
  }

  /* 特殊處理 chevron 類型的圖標 */
  .nav-dropdown.active .dropdown-arrow.fa-chevron-down {
    transform: rotate(180deg);
  }

  .nav-dropdown.active .dropdown-arrow.fa-chevron-up {
    transform: rotate(180deg);
  }

  /* 支援自定義箭頭樣式 */
  .dropdown-arrow.text-arrow {
    font-style: normal;
    font-weight: bold;
  }

  .dropdown-menu {
    position: absolute;
    top: calc(100% + 20px);
    left: 50%;
    transform: translateX(-50%);
    background: rgba(30, 30, 30, 0.8);
    backdrop-filter: blur(12px);
    border-radius: 12px;
    padding: 12px;
    min-width: 200px;
    max-width: 280px;
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
    transition: all 0.3s ease;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
    z-index: 1001;
  }

  .nav-dropdown.active .dropdown-menu {
    opacity: 1;
    visibility: visible;
    pointer-events: all;
  }

  .dropdown-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 8px 12px;
    color: #fff;
    text-decoration: none;
    border-radius: 6px;
    transition: all 0.3s ease;
    margin-bottom: 4px;
    font-size: 14px;
  }

  .dropdown-item:last-child {
    margin-bottom: 0;
  }

  .dropdown-item:hover {
    background: rgba(255, 255, 255, 0.1);
  }

  /* 明亮模式下的下拉菜单样式 */
  html[theme="light"] .dropdown-menu {
    background: rgba(234, 239, 245, 0.80);
    backdrop-filter: blur(12px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  }

  html[theme="light"] .dropdown-item {
    color: #333;
  }

  html[theme="light"] .dropdown-item:hover {
    background: rgba(255, 255, 255, 0.8);
  }

  /* 移动端下拉菜单样式 */
  @media (max-width: 1023px) {
    .dropdown-menu {
      position: static;
      transform: none;
      opacity: 0;
      visibility: hidden;
      pointer-events: none;
      margin-top: 0;
      background: transparent;
      margin-left: 0;
      padding: 0;
      box-shadow: none;
      max-height: 0;
      overflow: hidden;
      transition: all 0.4s cubic-bezier(0.4, 0.0, 0.2, 1);
    }

    .nav-dropdown.active .dropdown-menu {
      opacity: 1;
      visibility: visible;
      pointer-events: all;
      max-height: 300px;
      margin-top: 8px;
    }

    .dropdown-menu .dropdown-item {
      padding: 12px 16px 12px 44px;
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.03));
      margin: 3px 8px;
      border-radius: 8px;
      color: rgba(255, 255, 255, 0.9);
      border-left: 3px solid transparent;
      backdrop-filter: blur(8px);
      transition: all 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);
      position: relative;
      overflow: hidden;
    }

    .dropdown-menu .dropdown-item::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
      opacity: 0;
      transition: opacity 0.3s ease;
      z-index: -1;
    }

    .dropdown-menu .dropdown-item:hover {
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0.08));
      border-left-color: var(--primary, #00bcd4);
      transform: translateX(4px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      color: #fff;
    }

    .dropdown-menu .dropdown-item:hover::before {
      opacity: 1;
    }

    .dropdown-menu .dropdown-item div {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    /* 明亮模式下的行動裝置選單 */
    html[theme="light"] .dropdown-menu .dropdown-item {
      background: linear-gradient(135deg, rgba(0, 0, 0, 0.06), rgba(0, 0, 0, 0.02));
      color: rgba(51, 51, 51, 0.9);
    }

    html[theme="light"] .dropdown-menu .dropdown-item::before {
      background: linear-gradient(135deg, rgba(0, 0, 0, 0.08), rgba(0, 0, 0, 0.03));
    }

    html[theme="light"] .dropdown-menu .dropdown-item:hover {
      background: linear-gradient(135deg, rgba(0, 0, 0, 0.12), rgba(0, 0, 0, 0.06));
      color: #222;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .nav-dropdown .main-nav-link::before {
      display: none;
    }

    /* 下拉選單項目圖標美化 */
    .dropdown-menu .dropdown-item i {
      width: 16px;
      text-align: center;
      opacity: 0.8;
    }

    .dropdown-menu .dropdown-item:hover i {
      opacity: 1;
      color: var(--primary, #00bcd4);
    }
  }

  /* 漢堡選單預設隱藏 */
  #nav-menu-btn {
    display: none;
    cursor: pointer;
    align-items: center;
    justify-content: center;
  }

  /* 小螢幕 1023px 以下顯示漢堡選單 */
  @media (max-width: 1023px) {
    #nav-menu-btn {
      display: flex;
    }

    #main-nav {
      display: none;
      flex-direction: column;
      position: absolute;
      top: 80px;
      right: 10px;
      /* 深色模式樣式 */
      background: rgba(30,30,30,0.95);
      backdrop-filter: blur(12px);
      padding: 12px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.4);
      min-width: 333px;
      z-index: 998;
      align-items: flex-start;
    }

    /* 明亮模式下的選單樣式 */
    html[theme="light"] #main-nav {
      background: rgba(234, 239, 245, 0.80);
      backdrop-filter: blur(12px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }

    #main-nav.show {
      display: flex;
    }

    #main-nav a {
      position: relative;
      width: 100%;
      padding: 8px 0 8px 20px;
      color: #fff;
      text-decoration: none;
      text-align: left;
      display: flex;
      align-items: center;
      border-radius: 8px;
      margin: 2px 8px;
      transition: all 0.3s ease;
    }

    /* 行動裝置下的圖標樣式 */
    #main-nav a i {
      margin-right: 8px;
      width: 16px;
      text-align: center;
    }

    /* 明亮模式下的文字顏色 */
    html[theme="light"] #main-nav a {
      color: #333;
    }

    /* 主選單項目的 hue-bar 色條（包括下拉選單觸發器） */
    #main-nav a::before,
    #main-nav .dropdown-trigger::before {
      content: "";
      position: absolute;
      left: 6px;
      top: 50%;
      transform: translateY(-50%);
      width: 4px;
      height: 16px;
      border-radius: 3px;
      background: var(--primary, #00bcd4);
    }

    /* 下拉選單項目樣式 - 加上 hue-bar */
    .dropdown-menu .dropdown-item {
      padding: 12px 16px 12px 24px;
      background: transparent;
      margin: 3px 0;
      border-radius: 8px;
      color: rgba(255, 255, 255, 0.9);
      transition: all 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);
      position: relative;
      overflow: hidden;
    }

    .dropdown-menu .dropdown-item::before {
      content: "";
      position: absolute;
      left: 6px;
      top: 50%;
      transform: translateY(-50%);
      width: 4px;
      height: 16px;
      border-radius: 3px;
      background: var(--primary, #00bcd4);
      display: block;
    }

    .dropdown-menu .dropdown-item:hover {
      background: rgba(255, 255, 255, 0.1);
      transform: translateX(4px);
      color: #fff;
      margin-left: 8px;
      margin-right: 8px;
    }

    /* 明亮模式下的下拉選單項目 */
    html[theme="light"] .dropdown-menu .dropdown-item {
      background: transparent;
      color: rgba(51, 51, 51, 0.9);
    }

    html[theme="light"] .dropdown-menu .dropdown-item:hover {
      background: rgba(0, 0, 0, 0.08);
      color: #222;
    }
  }

  /* 桌面 ≥1024px 隱藏漢堡 */
  @media (min-width: 1024px) {
    #nav-menu-btn {
      display: none;
    }
  }

  /* 375px 以下調整選單 */
  @media (max-width: 375px) {
    #main-nav {
      min-width: 90%;
      right: 5px;
      left: 5px;
      box-sizing: border-box;
    }

    #main-nav a {
      font-size: 14px;
      padding: 2px 0 4px 16px;
    }
  }

  /* hue-picker 基本樣式 */
  #hue-picker {
    position: absolute;
    top: 85px;
    right: 10px;
    z-index: 999;
    /* 深色模式樣式（預設） */
    background: rgba(30, 30, 30, 0.80);
    backdrop-filter: blur(12px);
    padding: 20px 24px;
    border-radius: 14px;
    min-width: 280px;
    display: flex;
    flex-direction: column;
    align-items: center;
    box-shadow: 0 4px 12px rgba(0,0,0,0.4);
  }

  /* 明亮模式下的 hue-picker 樣式 */
  html[theme="light"] #hue-picker {
    background: rgba(234, 239, 245, 0.80);
    backdrop-filter: blur(12px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  }

  #hue-picker.hidden { 
    display: none; 
  }

  /* 375px 以下 hue-picker 等比縮小 */
  @media (max-width: 375px) {
    #hue-picker {
      transform: scale(0.85);
      transform-origin: top right;
      min-width: 280px;
    }
  }

  /* hue 標題 */
  .hue-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: 100%;
    margin-bottom: 10px;
  }

  .hue-title {
    display: flex;
    align-items: center;
    gap: 6px;
    font-weight: bold;
    font-size: 18px;
    color: #fff;
    position: relative;
  }

  /* 明亮模式下的標題顏色 */
  html[theme="light"] .hue-title {
    color: #333;
  }

  .hue-bar {
    position: absolute;
    left: -10px;
    width: 4px;
    height: 16px;
    border-radius: 3px;
    background: var(--primary, #00bcd4);
  }

  /* 顏色值框 */
  #hue-value-box {
    width: 46px;
    height: 26px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 6px;
    font-weight: bold;
    font-size: 14px;
    color: #00bcd4;
    border: 1px solid #00bcd4;
    background: rgba(0,0,0,0.4);
  }

  /* 明亮模式下的顏色值框 */
  html[theme="light"] #hue-value-box {
    background: rgba(255,255,255,0.8);
  }

  /* reset 按鈕 */
  #reset-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    height: 1em;
    font-size: 1em;
    line-height: 1em;
    padding: 0 4px;
    margin-left: 4px;
    border-radius: 4px;
    border: none;
    background: rgba(255,255,255,0.075);
    color: #fff;
    cursor: pointer;
    opacity: 0.8;
    transition: 0.2s;
    transform: translateY(1px);
  }

  /* 明亮模式下的 reset 按鈕 */
  html[theme="light"] #reset-btn {
    background: rgba(0,0,0,0.075);
    color: #333;
  }

  #reset-btn:hover { 
    background: rgba(255,255,255,0.2); 
    opacity: 1; 
  }

  html[theme="light"] #reset-btn:hover { 
    background: rgba(0,0,0,0.15); 
  }

  #reset-btn.hidden { 
    display: none; 
  }

  /* 色相漸層條 */
  .hue-slider {
    width: 300px;
    height: 24px;
    padding: 0 4px;
    border-radius: 6px;
    display: flex;
    align-items: center;
    background: linear-gradient(90deg,
      #ff8a80, #ff80ab, #b388ff, #82b1ff, #80d8ff, #a7ffeb,
      #ccff90, #ffff8d, #ffd180, #ff9e80
    );
  }

  #hue-range {
    width: 100%;
    background: transparent;
    outline: none;
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
  }

  #hue-range::-webkit-slider-thumb {
    -webkit-appearance: none;
    height: 18px;
    width: 8px;
    border-radius: 2px;
    background: #fff;
    border: 2px solid #00bcd4;
    cursor: pointer;
    transition: 0.2s;
  }

  #hue-range::-moz-range-thumb {
    height: 14px;
    width: 4px;
    border-radius: 2px;
    background: #fff;
    border: 2px solid #00bcd4;
    cursor: pointer;
  }

  /* navbar 明亮模式樣式 */
  html[theme="light"] #navbar {
    background: rgba(234, 239, 245, 0.80);
    backdrop-filter: blur(12px);
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const navMenuBtn = document.getElementById("nav-menu-btn");
    const mainNav = document.getElementById("main-nav");
    const hueBtn = document.getElementById("hue-btn");
    const huePicker = document.getElementById("hue-picker");
    const hueRange = document.getElementById("hue-range");
    const hueValueBox = document.getElementById("hue-value-box");
    const resetBtn = document.getElementById("reset-btn");
    const dropdownTriggers = document.querySelectorAll(".dropdown-trigger");

    // 關閉所有子選單的函數
    function closeAllSubMenus() {
      mainNav.classList.remove("show");
      huePicker.classList.add("hidden");
      document.querySelectorAll(".nav-dropdown").forEach(dropdown => {
        dropdown.classList.remove("active");
      });
    }

    // 漢堡選單點擊事件
    if (navMenuBtn) {
      navMenuBtn.addEventListener("click", (e) => {
        e.stopPropagation();
        const isShowing = mainNav.classList.contains("show");
        
        closeAllSubMenus();
        
        if (!isShowing) {
          mainNav.classList.add("show");
        }
      });
    }

    // 色調按鈕點擊事件
    if (hueBtn) {
      hueBtn.addEventListener("click", (e) => {
        e.stopPropagation();
        const isShowing = !huePicker.classList.contains("hidden");
        
        closeAllSubMenus();
        
        if (!isShowing) {
          huePicker.classList.remove("hidden");
        }
      });
    }

    // 下拉選單點擊事件
    dropdownTriggers.forEach(trigger => {
      // 為整個觸發器添加事件監聽
      trigger.addEventListener("click", (e) => {
        e.preventDefault();
        e.stopPropagation();
        
        const dropdown = trigger.closest(".nav-dropdown");
        const isActive = dropdown.classList.contains("active");
        
        // 關閉其他下拉選單
        document.querySelectorAll(".nav-dropdown").forEach(d => {
          if (d !== dropdown) {
            d.classList.remove("active");
          }
        });
        
        // 切換當前下拉選單
        dropdown.classList.toggle("active");
      });

      // 防止點擊時的預設連結行為
      trigger.addEventListener("mousedown", (e) => {
        e.preventDefault();
      });
    });

    // 點擊選單連結自動收起
    mainNav.querySelectorAll("a").forEach(link => {
      if (!link.classList.contains("dropdown-trigger")) {
        link.addEventListener("click", () => {
          closeAllSubMenus();
        });
      }
    });

    // 點擊其他地方關閉所有選單
    document.addEventListener("click", (e) => {
      if (!e.target.closest("#sub-nav") && 
          !e.target.closest("#main-nav") && 
          !e.target.closest("#hue-picker") &&
          !e.target.closest(".nav-dropdown")) {
        closeAllSubMenus();
      }
    });

    // 色調控制
    if (hueRange) {
      hueRange.addEventListener("input", e => {
        const value = e.target.value;
        hueValueBox.textContent = value;
        document.documentElement.style.setProperty("--primary-hue", value);
        if (value != "250") resetBtn.classList.remove("hidden");
        else resetBtn.classList.add("hidden");
      });
    }

    if (resetBtn) {
      resetBtn.addEventListener("click", () => {
        hueRange.value = "250";
        hueValueBox.textContent = "250";
        document.documentElement.style.setProperty("--primary-hue", "250");
        resetBtn.classList.add("hidden");
      });
    }
  });
</script>
    </div>
    <div id="sidebar-wrapper">
      <sidebar id="sidebar">
  
    <div class="widget-wrap">
  <div class="info-card">
    <div class="avatar hover-container" onclick="window.location.href='/about/'">
      
        <image src=/img/avatar.png></image>
      
      <!-- 新增的hover遮罩和圖標 -->
      <div class="hover-overlay">
        <div class="hover-icon">
          <!-- 使用自定義 SVG 圖標 -->
          <svg width="1.13em" height="1em" viewBox="0 0 576 512" class="custom-card-icon">
            <defs>
              <symbol id="address-card-icon" viewBox="0 0 576 512">
                <path fill="currentColor" d="M512 80c8.8 0 16 7.2 16 16v320c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V96c0-8.8 7.2-16 16-16zM64 32C28.7 32 0 60.7 0 96v320c0 35.3 28.7 64 64 64h448c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64zm144 224a64 64 0 1 0 0-128a64 64 0 1 0 0 128m-32 32c-44.2 0-80 35.8-80 80c0 8.8 7.2 16 16 16h192c8.8 0 16-7.2 16-16c0-44.2-35.8-80-80-80zm200-144c-13.3 0-24 10.7-24 24s10.7 24 24 24h80c13.3 0 24-10.7 24-24s-10.7-24-24-24zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24h80c13.3 0 24-10.7 24-24s-10.7-24-24-24z"/>
              </symbol>
            </defs>
            <use href="#address-card-icon"/>
          </svg>
        </div>
      </div>
      <div class="img-dim"></div>
    </div>
    <div class="info">
      <div class="username">虎头鯨 </div>
      <div class="dot"></div>
      <div class="subtitle">PU CSIM </div>
      <div class="link-list">
        
          <a class="link-btn" target="_blank" rel="noopener" href="https://discordapp.com/users/975001678350811206" title="Discord"><i class="fa-brands fa-discord"></i></a>
        
          <a class="link-btn" target="_blank" rel="noopener" href="https://steamcommunity.com/id/DEVlenient/" title="Steam"><i class="fa-brands fa-steam"></i></a>
        
          <a class="link-btn" target="_blank" rel="noopener" href="https://github.com/AixLnyt" title="GitHub"><i class="fa-brands fa-github"></i></a>
         
      </div>  
    </div>
  </div>
</div>

<style>
/* 基礎容器樣式 */
.hover-container {
  position: relative;
  overflow: hidden;
  border-radius: 12px; /* 圓角，可根據需要調整 */
  cursor: pointer;
  transition: transform 0.2s ease;
}

/* 添加點擊效果 */
.hover-container:active {
  transform: scale(0.95);
}

/* Hover遮罩層 */
.hover-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.3); /* 半透明黑色遮罩 */
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  transition: opacity 0.3s ease;
  z-index: 50;
  pointer-events: none;
}

/* Hover圖標 */
.hover-icon {
  color: white;
  opacity: 0;
  transform: scale(0.9);
  transition: all 0.3s ease;
}

/* 自定義 SVG 圖標樣式 */
.custom-card-icon {
  width: 3rem; /* 48px，相當於 text-5xl */
  height: 3rem;
  color: white;
  transition: all 0.3s ease;
}

/* Hover效果 */
.hover-container:hover .hover-overlay {
  opacity: 1;
}

.hover-container:hover .hover-icon {
  opacity: 1;
  transform: scale(1);
}

.hover-container:hover .custom-card-icon {
  transform: scale(1.1);
}

/* 確保原始圖片樣式不受影響 */
.hover-container image,
.hover-container img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

/* 可選：添加更平滑的過渡效果 */
.hover-container image,
.hover-container img {
  transition: transform 0.3s ease;
}

.hover-container:hover image,
.hover-container:hover img {
  transform: scale(1.05); /* 輕微放大圖片 */
}
</style>
  
  <div class="sticky">
    
      
  <div class="widget-wrap">
    <div class="widget">
      <h3 class="widget-title">分類</h3>
      <div class="category-box">
            <a class="category-link" href="/categories/Certiport/">
                Certiport
                <div class="category-count">1</div>
            </a>
        
            <a class="category-link" href="/categories/Chrome/">
                Chrome
                <div class="category-count">1</div>
            </a>
        
            <a class="category-link" href="/categories/%E9%A1%AF%E5%8D%A1/">
                顯卡
                <div class="category-count">1</div>
            </a>
        
            <a class="category-link" href="/categories/%E7%A1%AC%E9%AB%94/">
                硬體
                <div class="category-count">1</div>
            </a>
        
            <a class="category-link" href="/categories/ICDL/">
                ICDL
                <div class="category-count">1</div>
            </a>
        
            <a class="category-link" href="/categories/Java/">
                Java
                <div class="category-count">1</div>
            </a>
        
            <a class="category-link" href="/categories/%E9%A1%AF%E7%A4%BA%E5%99%A8/">
                顯示器
                <div class="category-count">1</div>
            </a>
        
            <a class="category-link" href="/categories/Python/">
                Python
                <div class="category-count">1</div>
            </a>
        
            <a class="category-link" href="/categories/Markdown/">
                Markdown
                <div class="category-count">1</div>
            </a>
        
            <a class="category-link" href="/categories/%E7%A1%AC%E7%A2%9F/">
                硬碟
                <div class="category-count">1</div>
            </a>
        
            <a class="category-link" href="/categories/%E8%BB%9F%E9%AB%94/">
                軟體
                <div class="category-count">1</div>
            </a>
        
            <a class="category-link" href="/categories/%E9%81%8A%E6%88%B2/">
                遊戲
                <div class="category-count">1</div>
            </a>
        </div>
    </div>
  </div>


    
      
  <div class="widget-wrap">
    <div class="widget">
      <h3 class="widget-title">標籤</h3>
      <ul class="widget-tag-list" itemprop="keywords"><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/Extension/" rel="tag">Extension</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/%E5%9C%8B%E9%9A%9B%E8%AA%8D%E8%AD%89/" rel="tag">國際認證</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/%E6%93%B4%E5%85%85%E5%8A%9F%E8%83%BD/" rel="tag">擴充功能</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/%E6%94%BB%E7%95%A5/" rel="tag">攻略</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/%E6%A8%99%E8%A8%98%E8%AA%9E%E8%A8%80/" rel="tag">標記語言</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/%E7%8E%A9%E6%B3%95/" rel="tag">玩法</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/%E7%A1%AC%E9%AB%94/" rel="tag">硬體</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/%E7%A8%8B%E5%BC%8F%E8%AA%9E%E8%A8%80/" rel="tag">程式語言</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/%E8%AD%89%E7%85%A7/" rel="tag">證照</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/%E8%BB%9F%E9%AB%94/" rel="tag">軟體</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/%E9%9B%BB%E8%85%A6/" rel="tag">電腦</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/%E9%B3%B4%E6%BD%AE/" rel="tag">鳴潮</a></li></ul>
    </div>
  </div>


    
  </div>
</sidebar>
    </div>
    <div id="content-body">
       


<style>
/* Right Panel 支持視頻和圖片的樣式 - 固定媒體位置版本 */
.right-panel {
  position: relative;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 8px;
  transition: transform 0.3s ease;
}

.right-panel:hover {
  transform: scale(1.02);
}

.right-panel .bg-image {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-size: cover;
  background-repeat: no-repeat;
  transform: scale(var(--media-scale, 1));
  transition: transform 0.3s ease;
  
  /* 使用固定像素偏移避免隨寬度變化 */
  background-position: 
    calc(50% + var(--media-offset-x, 0px)) 
    calc(50% + var(--media-offset-y, 0px));
}

.right-panel .bg-video {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  transform: scale(var(--media-scale, 1));
  transition: transform 0.3s ease;
  z-index: 1;
  pointer-events: none;
  
  /* 使用固定像素偏移避免隨寬度變化 */
  object-position: 
    calc(50% + var(--media-offset-x, 0px)) 
    calc(50% + var(--media-offset-y, 0px));
}

.right-panel .overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.3);
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  transition: opacity 0.3s ease;
  z-index: 2;
}

.right-panel:hover .overlay {
  opacity: 1;
}

.right-panel i.with-pic {
  color: white;
  font-size: 2rem;
  z-index: 3;
}

.right-panel i.non-pic {
  color: #666;
  font-size: 1.5rem;
}

.right-panel.with-pic {
  background: #000;
}

/* 響應式設計 - 768px以下隱藏右側面板，讓article-main占滿 */
@media (max-width: 768px) {
  /* 隱藏右側面板 */
  .right-panel {
    display: none !important;
  }
  
  /* 讓article-main占滿整個容器 */
  .article-main {
    width: 100% !important;
    flex: 1 !important;
  }
  
  /* 確保article-inner也占滿 */
  .article-inner {
    display: block !important;
    width: 100% !important;
  }
}

@media (prefers-reduced-motion: reduce) {
  .right-panel {
    transition: none;
  }
  
  .right-panel .bg-video {
    animation-play-state: paused;
  }
}
</style>



<article id="page-" class="h-entry article article-type-page" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
   
  <div class="article-inner" 
    
  >
    <div class="article-main">
      <header class="article-header">
        
<div class="main-title-bar">
  <div class="main-title-dot"></div>
  
    
      <h1 class="p-name article-title" itemprop="headline name">
        
        02 網路的構成（一）
      </h1>
    
  
</div>
        <div class='meta-info-bar'>
          <div class="meta-info">
  <time class="dt-published" datetime="2025-07-18T16:00:00.000Z" itemprop="datePublished">2025-07-19</time>
</div>
          <div class="need-seperator meta-info">
            <div class="meta-cate-flex">
  
    未分類
  
</div>
  
          </div>
          <div class="wordcount need-seperator meta-info">
            7.8k 字 
          </div>
        </div>
        

      </header>
      <div class="e-content article-entry" itemprop="articleBody">
        
          <br>

<style>
.img-wrapper {
  margin: 20px 0;
}

.img-wrapper img {
  display: block;
  max-width: 50%;
  height: auto;
  margin-left: 0;  /* 靠左對齊 */
}

/* 手機寬度 320~425px 時，max-width 改為 80% */
@media (min-width: 320px) and (max-width: 426px) {
  .img-wrapper img {
    max-width: 80%;
  }
}
</style>

<h2 id="2-1-網路架設"><a href="#2-1-網路架設" class="headerlink" title="2-1 網路架設"></a>2-1 網路架設</h2><p>隨著網路世界的快速發展，從簡單的兩台電腦互相連接，到現在的全世界的電腦相互連接，電腦與電腦間連線的網路架構方式，稱之為「拓踐」(Topology)。常見的網路拓腺連接方式有五種，說明如下：</p>
<h3 id="2-1-1-星狀拓撲-Star-Topology"><a href="#2-1-1-星狀拓撲-Star-Topology" class="headerlink" title="2-1-1 星狀拓撲(Star Topology)"></a>2-1-1 星狀拓撲(Star Topology)</h3><p>又稱「放射狀網路」，所有節點透過獨立線路連接至中央集線器（Hub&#x2F;Switch），連接線之材料為雙絞線。</p>
<div class="img-wrapper">
  <img src="/img/Star_Topology.png" alt="Star_Topology">
</div>

<table>
<thead>
<tr>
<th>分類</th>
<th>說明</th>
</tr>
</thead>
<tbody><tr>
<td><strong>優點</strong></td>
<td>故障節點不影響整體網路，易於排錯與擴充</td>
</tr>
<tr>
<td><strong>缺點</strong></td>
<td>中央設備故障將癱瘓全網，線材多</td>
</tr>
<tr>
<td><strong>存取</strong></td>
<td>通常搭配 <strong>CSMA&#x2F;CD</strong> 或<strong>交換式交換機控制</strong></td>
</tr>
<tr>
<td><strong>應用</strong></td>
<td><strong>10Base-T</strong> 乙太網路架構、現代家庭與企業 LAN、Wi-Fi 基地台拓撲、宿舍網路</td>
</tr>
</tbody></table>
<br>

<h3 id="2-1-2-匯流排拓撲-Bus-Topology"><a href="#2-1-2-匯流排拓撲-Bus-Topology" class="headerlink" title="2-1-2 匯流排拓撲(Bus Topology)"></a>2-1-2 匯流排拓撲(Bus Topology)</h3><p>所有節點<strong>共用一條線路連接</strong>，傳輸需經終端<strong>電阻</strong>吸收，適合<strong>廣播</strong>的方式傳遞資料，連接線之材料為同軸電纜，不適合光纖。</p>
<div class="img-wrapper">
  <img src="/img/Bus_Topology.png" alt="Bus_Topology">
</div>

<table>
<thead>
<tr>
<th>分類</th>
<th>說明</th>
</tr>
</thead>
<tbody><tr>
<td><strong>優點</strong></td>
<td>某一台電腦故障並不會影響其他電腦的運作、架構簡單、線材少、成本低</td>
</tr>
<tr>
<td><strong>缺點</strong></td>
<td>主線斷損將癱瘓整網，碰撞風險高</td>
</tr>
<tr>
<td><strong>存取</strong></td>
<td><strong>CSMA&#x2F;CD（乙太網）</strong></td>
</tr>
<tr>
<td><strong>應用</strong></td>
<td><strong>10Base-2 &#x2F; 10Base-5</strong> 同軸乙太網、早期 DOS&#x2F;Windows 網路架構、臨時展場網路</td>
</tr>
</tbody></table>
<br>

<h3 id="2-1-3-環狀拓撲-Ring-Topology"><a href="#2-1-3-環狀拓撲-Ring-Topology" class="headerlink" title="2-1-3 環狀拓撲(Ring Topology)"></a>2-1-3 環狀拓撲(Ring Topology)</h3><p>每節點與前後兩點相連，組成封閉資料傳輸路徑(單向或雙向)，連接線之材料為同軸電纜、雙絞線、光纖。</p>
<div class="img-wrapper">
  <img src="/img/Ring_Topology.png" alt="Ring_Topology">
</div>

<table>
<thead>
<tr>
<th>分類</th>
<th>說明</th>
</tr>
</thead>
<tbody><tr>
<td><strong>優點</strong></td>
<td>如果有一台電腦或線壞掉，資料還是可以從別的方向繞過去傳送，不會整個中斷</td>
</tr>
<tr>
<td><strong>缺點</strong></td>
<td>通訊線路若毀損時，會使整個網路或部分網路癱瘓<br>成本較高，使用率不高</td>
</tr>
<tr>
<td><strong>存取</strong></td>
<td><strong>Token Passing（權杖傳遞）</strong></td>
</tr>
<tr>
<td><strong>應用</strong></td>
<td>Token Ring 網路、<strong>FDDI</strong>、<strong>SONET</strong>、工業控制網路</td>
</tr>
</tbody></table>
<br>

<h3 id="2-1-4-樹狀拓撲-Tree-Topology"><a href="#2-1-4-樹狀拓撲-Tree-Topology" class="headerlink" title="2-1-4 樹狀拓撲(Tree Topology)"></a>2-1-4 樹狀拓撲(Tree Topology)</h3><p>以多層級星狀子網組合成分層架構，類似企業組織結構，連接線之材料為同軸電纜、雙絞線或光纖。</p>
<div class="img-wrapper">
  <img src="/img/Tree_Topology.png" alt="Tree_Topology">
</div>

<table>
<thead>
<tr>
<th>分類</th>
<th>說明</th>
</tr>
</thead>
<tbody><tr>
<td><strong>優點</strong></td>
<td>彈性高、易擴充、可分區管理</td>
</tr>
<tr>
<td><strong>缺點</strong></td>
<td>主幹故障影響整層，線材與設備需求高</td>
</tr>
<tr>
<td><strong>存取</strong></td>
<td>通常搭配 <strong>CSMA&#x2F;CD</strong> 或交換式控制（混合式）</td>
</tr>
<tr>
<td><strong>應用</strong></td>
<td>大型校園網路、企業多樓層網路、政府&#x2F;教育機關 LAN 結構</td>
</tr>
</tbody></table>
<br>

<h3 id="2-1-5-網狀拓撲-Mesh-Topology"><a href="#2-1-5-網狀拓撲-Mesh-Topology" class="headerlink" title="2-1-5 網狀拓撲(Mesh Topology)"></a>2-1-5 網狀拓撲(Mesh Topology)</h3><p>網狀拓撲是每個節點彼此直接連接，像星形形狀。它是網路架構中最安全的拓樸，提供<strong>備援通訊</strong>路徑來提供容錯通訊，連接線之材料為一般雙絞線、同軸電纜或光纖。</p>
<div class="img-wrapper">
  <img src="/img/Mesh_Topology.png" alt="Mesh_Topology">
</div>

<table>
<thead>
<tr>
<th>分類</th>
<th>說明</th>
</tr>
</thead>
<tbody><tr>
<td><strong>優點</strong></td>
<td><strong>容錯率高</strong>，通訊穩定、速度快</td>
</tr>
<tr>
<td><strong>缺點</strong></td>
<td>佈線極為複雜、成本高</td>
</tr>
<tr>
<td><strong>存取</strong></td>
<td>通常使用 <strong>動態路由協定</strong>（如 OSPF）</td>
</tr>
<tr>
<td><strong>應用</strong></td>
<td>ZigBee 自組無線網、軍事與災難應變通訊、資料中心骨幹網、Wi-Fi Mesh 家用無線網</td>
</tr>
</tbody></table>
<p><br><br></p>
<h2 id="2-2-網路設備"><a href="#2-2-網路設備" class="headerlink" title="2-2 網路設備"></a>2-2 網路設備</h2><p>網路設備是連接各種裝置進行資料傳輸的硬體，包括交換器（Switch）、路由器（Router）、集線器（Hub）等。它們協助資料正確送達目的地，是建立網路的基礎元件。</p>
<br>

<h3 id="2-2-1-電腦軟體"><a href="#2-2-1-電腦軟體" class="headerlink" title="2-2-1 電腦軟體"></a>2-2-1 電腦軟體</h3><p>當我們要連接網路時，必須要有兩種軟體來幫忙連上網路，一為可以網路作業系統，二為應用軟體。</p>
<h4 id="網路作業系統（Network-Operation-System，NOS）"><a href="#網路作業系統（Network-Operation-System，NOS）" class="headerlink" title="網路作業系統（Network Operation System，NOS）"></a>網路作業系統（Network Operation System，NOS）</h4><p>當連接網路時，所使用的網路作業系統會影響網路功能和資料傳輸方式，一般可分為 Client&#x2F;Server 與 Peer&#x2F;Peer 兩類。</p>
<ol>
<li><strong>Client &#x2F; Server 作業系統</strong></li>
</ol>
<p>如果想讓一台電腦來管理整個網路和所有資源，就可以用「Client&#x2F;Server（用戶端&#x2F;伺服器）」的網路作業系統。這類系統會有一台伺服器負責處理資料、分配權限，其他電腦當用戶端來連線使用。常見的系統有：</p>
<ul>
<li>LAN Manager</li>
<li>LAN Server</li>
<li>Windows Server</li>
<li>NetWare</li>
<li>Banyan VINES</li>
<li>也包含現在常見的 UNIX 和 Linux</li>
</ul>
<ol start="2">
<li><strong>Peer &#x2F; Peer 系統</strong></li>
</ol>
<p>如果想讓每台電腦都能互相分享資源，那就可以用「Peer to Peer（點對點）」的網路作業系統。這種方式比較便宜、管理也比較簡單，適合小公司或家用網路。<br>常見的 P2P 系統有：</p>
<ul>
<li>LANtastic</li>
<li>MS Windows</li>
<li>Apple Talk</li>
</ul>
<p>我們已經簡單地認識了一些主要的網路作業系統。你或許會覺得有些眼花撩亂，不知如何選擇一套適合自己環境的系統。下面列舉出一些選擇網路系統時的因素，以供參考：</p>
<ul>
<li>網路體積</li>
<li>指定的網路管理員</li>
<li>集中式網路控制</li>
<li>員工訓練</li>
<li>成本</li>
<li>網路軟體的兼容性</li>
</ul>
<p>不同網路作業系統比較表：</p>
<table>
<thead>
<tr>
<th>類項&#x2F;系統</th>
<th>OS&#x2F;2</th>
<th>NetWare</th>
<th>Linux</th>
<th>Windows NT</th>
<th>Personal NetWare</th>
<th>LANtastic</th>
<th>WFW</th>
<th>Win</th>
</tr>
</thead>
<tbody><tr>
<td>密碼加密</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td></td>
<td></td>
<td></td>
<td>X</td>
</tr>
<tr>
<td>系統追蹤</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Mac 連接</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>TCP&#x2F;IP</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td>IPX&#x2F;SPX</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td>長檔案名</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td></td>
<td></td>
<td></td>
<td>X</td>
</tr>
<tr>
<td>圖形管理介面</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<blockquote>
<p>註：X 表示該功能為支援</p>
</blockquote>
<p>補充說明：</p>
<ul>
<li>Personal NetWare：功能類似 NetWare，但針對單機／SOHO，支援有限，某些功能需加裝。</li>
<li>LANtastic：功能強，但屬點對點架構，有些企業級功能需另外設定。</li>
<li>WFW（Windows for Workgroups）：屬於早期 Windows 3.11，有限度支援 TCP&#x2F;IP 及 AppleTalk。</li>
<li>Win：若指 Win95&#x2F;98，圖形界面和 TCP&#x2F;IP 都支援，但功能上與 NT 系列有差距。</li>
<li>IPX&#x2F;SPX：為 Novell NetWare 使用的協定，後期已被 TCP&#x2F;IP 取代。</li>
<li>長檔案名：Windows 95 以後才開始正式支援，WFW 等仍是 8.3 格式。</li>
</ul>
<h4 id="應用軟體"><a href="#應用軟體" class="headerlink" title="應用軟體"></a>應用軟體</h4><p>網路應用軟體種類繁多，應用範圍涵蓋廣泛，尤其在網際網路上，包括可連接全球資訊網的瀏覽器如 IE、Firefox、Opera，以及 FTP 工具（如 WS_FTP、CuteFTP）與電子郵件軟體（如 Outlook、Eudora）等，都是常見的代表。</p>
<br>

<h3 id="2-2-2-電腦硬體"><a href="#2-2-2-電腦硬體" class="headerlink" title="2-2-2 電腦硬體"></a>2-2-2 電腦硬體</h3><p>網路設備是連接各種裝置進行資料傳輸的硬體，包括交換器（Switch）、路由器（Router）、集線器（Hub）等。它們協助資料正確送達目的地，是建立網路的基礎元件。</p>
<h4 id="網路卡（Network-Interface-Card、NIC）"><a href="#網路卡（Network-Interface-Card、NIC）" class="headerlink" title="網路卡（Network Interface Card、NIC）"></a>網路卡（Network Interface Card、NIC）</h4><p>網路卡是一種讓電腦能夠連接網路的硬體裝置，依傳輸方式可分為「<strong>有線網路卡</strong>」與「<strong>無線網路卡</strong>」，分別對應 Ethernet（透過網路線）與 Wi-Fi（透過無線訊號）。若是透過電信網路（如 3G、4G、5G）連接網際網路，則屬於行動網路設備，例如行動網卡或內建的 WWAN 模組，此類設備不屬於傳統的區域網路卡。<br><img src="/img/NIC.png" alt="NIC" style="display:block; margin:20px 0; max-width:80%; height:auto; text-align:left;"></p>
<h4 id="中繼器（Repeater）"><a href="#中繼器（Repeater）" class="headerlink" title="中繼器（Repeater）"></a>中繼器（Repeater）</h4><p>用於在<strong>加強訊號</strong>，把信號送更遠，以延伸網路長度。<br><img src="/img/Repeater.png" alt="Repeater" style="display:block; margin:20px 0; max-width:80%; height:auto; text-align:left;"></p>
<h4 id="集線器（Hub）"><a href="#集線器（Hub）" class="headerlink" title="集線器（Hub）"></a>集線器（Hub）</h4><p>集線器是很簡單的網路裝置，它會把<strong>一台電腦傳來的訊號</strong>，<strong>複製給所有連到它的電腦</strong>，有點像廣播，效率不高，但能讓多台裝置連一起。<br><img src="/img/Hub.png" alt="Hub" style="display:block; margin:20px 0; max-width:80%; height:auto; text-align:left;"></p>
<h4 id="交換器（Switch）"><a href="#交換器（Switch）" class="headerlink" title="交換器（Switch）"></a>交換器（Switch）</h4><p>交換器<strong>根據每台電腦的 MAC 位址</strong>來決定把資料送給誰，有效<strong>減少資料碰撞</strong>、<strong>分割碰撞網域</strong>，但無法分割廣播網域。<br>若使用<strong>多層交換器（Layer 3 Switch）</strong>，則具備類似路由器的功能，能夠根據<strong>IP 位址</strong>進行資料轉送，進而<strong>分割廣播網域</strong>使得不同 <strong>VLAN（虛擬區域網路）或工作群組之間可以互相連通</strong>，並進行更進階的網路管理，且還具備<strong>部分路由器</strong>的功能。</p>
<ul>
<li>設定不同子網路之間的通訊規則</li>
<li>控制跨部門或跨樓層的網路資料流向</li>
<li>支援遠端管理與監控設備狀態（例如透過 Web 或 SSH 管理）</li>
</ul>
<blockquote>
<p><strong>多層交換器 &#x3D; 交換 + 路由 → 可以根據 IP 進行封包轉送。</strong></p>
</blockquote>
<br>

<h5 id="交換器處理封包的傳送方式"><a href="#交換器處理封包的傳送方式" class="headerlink" title="交換器處理封包的傳送方式"></a>交換器處理封包的傳送方式</h5><table>
<thead>
<tr>
<th>類型</th>
<th>中文說法</th>
<th>傳送方式說明</th>
<th>比喻說明</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Unicast</strong></td>
<td>單點傳播</td>
<td>根據 MAC 表，封包只傳送到目的設備的專屬連接埠</td>
<td>知道對象，就直接找他說話</td>
</tr>
<tr>
<td><strong>Broadcast</strong></td>
<td>廣播</td>
<td><strong>封包目標是「所有設備」，傳送到同一區段內的所有連接埠</strong></td>
<td>有事全場通知，例如 ARP 請求</td>
</tr>
<tr>
<td><strong>Multicast</strong></td>
<td>群播</td>
<td>傳給一群特定設備，需設備有參與該群組；否則可能 Flood 給全場</td>
<td>只邀請有加入群組的朋友</td>
</tr>
<tr>
<td><strong>Flooding</strong></td>
<td>泛播</td>
<td><strong>若不知道封包的傳送目標，封包會送給所有連接埠</strong>（除了來源）</td>
<td>新朋友還不熟，先通通問一次，再記住下次怎麼找他們</td>
</tr>
</tbody></table>
<br>

<h5 id="常見考點與誤解"><a href="#常見考點與誤解" class="headerlink" title="常見考點與誤解"></a>常見考點與誤解</h5><table>
<thead>
<tr>
<th>誤解說法</th>
<th>正確觀念</th>
</tr>
</thead>
<tbody><tr>
<td>「交換器不會廣播封包」</td>
<td>❌ 錯，Broadcast 與未知 MAC 封包會廣播（Flood）</td>
</tr>
<tr>
<td>「交換器只能連電腦，不能連路由器」</td>
<td>❌ 錯，交換器可連各種裝置，包括路由器、伺服器等</td>
</tr>
<tr>
<td>「交換器根據 IP 位址傳封包」</td>
<td>❌ 錯，交換器是根據 <strong>MAC 位址</strong> 處理的（屬於 L2）</td>
</tr>
<tr>
<td>「交換器會學習目標 MAC 位址」</td>
<td>❌ 錯，交換器只會學習 <strong>來源 MAC 位址</strong></td>
</tr>
</tbody></table>
<img src="/img/Switch.png" alt="Switch" style="display:block; margin:20px 0; max-width:80%; height:auto; text-align:left;">

<h4 id="橋接器（Bridge）"><a href="#橋接器（Bridge）" class="headerlink" title="橋接器（Bridge）"></a>橋接器（Bridge）</h4><p>橋接器<strong>連接兩個網路</strong>，<strong>根據 MAC 位址</strong>處理資料幀，<strong>具封包過濾功能</strong>，也能分割碰撞網域，但無法分割廣播網域。<br><img src="/img/Bridge.png" alt="Bridge" style="display:block; margin:20px 0; max-width:80%; height:auto; text-align:left;"></p>
<h4 id="路由器（Router）"><a href="#路由器（Router）" class="headerlink" title="路由器（Router）"></a>路由器（Router）</h4><p>用於在不同<strong>網路</strong>之間進行移動資料，會<strong>根據 IP 位址</strong>處理封包，通常同時連接：</p>
<ul>
<li><strong>一邊連接外部網路（WAN）</strong>：連接到網際網路</li>
<li><strong>一邊提供內部網路（LAN）</strong>：家用或公司內部的區域網路</li>
</ul>
<blockquote>
<p>若無法判斷封包的目的地，會將其傳送至<strong>預設路由</strong>（Default Route）。若未設定預設路由，則<strong>丟棄封包</strong>，並可能回送 ICMP 錯誤訊息。<br>ICMP 是幫忙傳遞錯誤回報和診斷訊息的網路小幫手</p>
</blockquote>
<p>而路由器也負責分配 IP，有兩種方式：</p>
<ul>
<li><strong>動態 IP（Dynamic IP）</strong>：由路由器<strong>自動分配</strong>，每次開機或連線可能拿到不一樣的 IP，適合大部分使用者。</li>
<li><strong>靜態 IP（Static IP）</strong>：<strong>手動設定</strong>的固定 IP，不會改變，通常用在伺服器或要遠端連線的設備上。</li>
</ul>
<img src="/img/Router.png" alt="Router" style="display:block; margin:20px 0; max-width:80%; height:auto; text-align:left;">

<h4 id="閘道器（Gateway）"><a href="#閘道器（Gateway）" class="headerlink" title="閘道器（Gateway）"></a>閘道器（Gateway）</h4><p>用於在不同<strong>協定</strong>之間進行<strong>資料轉譯與傳輸</strong>，通常用於連接<strong>區域網路</strong>和<strong>網際網路</strong>，<strong>需要設定 IP 位址</strong>才能運作。<br><img src="/img/Gateway.png" alt="Gateway" style="display:block; margin:20px 0; max-width:80%; height:auto; text-align:left;"></p>
<h4 id="數據機（Modem）"><a href="#數據機（Modem）" class="headerlink" title="數據機（Modem）"></a>數據機（Modem）</h4><p>數據機的作用是把<strong>電話線或光纖傳來的訊號轉成電腦能用的網路訊號</strong>，沒有它就沒辦法上網。<strong>標準數據機連上 Internet 最高速 56Kbps</strong>，現在很多是「<strong>數據機 + 路由器合一</strong>」的設備。<br><img src="/img/Modem.png" alt="Modem" style="display:block; margin:20px 0; max-width:80%; height:auto; text-align:left;"></p>
<h4 id="列印伺服器（Print-Server）"><a href="#列印伺服器（Print-Server）" class="headerlink" title="列印伺服器（Print Server）"></a>列印伺服器（Print Server）</h4><p>列印伺服器是讓一台印表機能讓多人一起用的裝置，不用每台電腦都接線，只要連到網路就可以叫印表機印東西。<br><img src="/img/Print_Server.png" alt="Print_Server" style="display:block; margin:20px 0; max-width:80%; height:auto; text-align:left;"></p>
<br>

<h2 id="2-2-2-補充"><a href="#2-2-2-補充" class="headerlink" title="2-2-2 補充"></a>2-2-2 補充</h2><table>
<thead>
<tr>
<th>設備類型</th>
<th>碰撞網域情況</th>
</tr>
</thead>
<tbody><tr>
<td>Hub</td>
<td><strong>同一個碰撞網域</strong></td>
</tr>
<tr>
<td>Switch (每埠)</td>
<td><strong>不同碰撞網域</strong></td>
</tr>
<tr>
<td>Router (每埠)</td>
<td><strong>不同碰撞網域</strong></td>
</tr>
<tr>
<td>同軸網路</td>
<td><strong>同一個碰撞網域</strong></td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>設備名稱</th>
<th>分割碰撞網域</th>
<th>分割廣播網域</th>
<th>備註</th>
</tr>
</thead>
<tbody><tr>
<td><strong>網路卡（NIC）</strong></td>
<td>❌ 否</td>
<td>❌ 否</td>
<td>終端設備的一部分，不分割網域</td>
</tr>
<tr>
<td><strong>中繼器（Repeater）</strong></td>
<td>❌ 否</td>
<td>❌ 否</td>
<td>單純延伸訊號，不分割任何網域</td>
</tr>
<tr>
<td><strong>集線器（Hub）</strong></td>
<td>❌ 否</td>
<td>❌ 否</td>
<td>廣播與碰撞都傳給全部裝置</td>
</tr>
<tr>
<td><strong>交換器（Switch）</strong></td>
<td>✅ 是</td>
<td>❌ 否（預設）</td>
<td>分割碰撞網域，但不分割廣播，除非搭配 VLAN</td>
</tr>
<tr>
<td><strong>橋接器（Bridge）</strong></td>
<td>✅ 是</td>
<td>❌ 否</td>
<td>古老版本的交換器，兩個連接埠</td>
</tr>
<tr>
<td><strong>路由器（Router）</strong></td>
<td>✅ 是</td>
<td>✅ 是</td>
<td>明確分割兩者，屬於 L3</td>
</tr>
<tr>
<td><strong>閘道器（Gateway）</strong></td>
<td>✅ 是</td>
<td>✅ 是</td>
<td>功能類似路由器，但常跨協定</td>
</tr>
<tr>
<td><strong>數據機（Modem）</strong></td>
<td>❌ 否</td>
<td>❌ 否</td>
<td>僅轉換訊號，不參與網域管理</td>
</tr>
</tbody></table>
<br>

<h3 id="網路設備與-OSI-對應整理表"><a href="#網路設備與-OSI-對應整理表" class="headerlink" title="網路設備與 OSI 對應整理表"></a>網路設備與 OSI 對應整理表</h3><table>
<thead>
<tr>
<th>網路設備名稱</th>
<th>功能簡述</th>
<th>對應 OSI 層級</th>
</tr>
</thead>
<tbody><tr>
<td><strong>網路卡（NIC）</strong></td>
<td>網路傳輸的接口裝置（有線&#x2F;無線）</td>
<td><strong>第 1 層：實體層</strong> &amp; <strong>第 2 層：資料鏈結層</strong></td>
</tr>
<tr>
<td><strong>中繼器（Repeater）</strong></td>
<td>放大訊號、延長距離</td>
<td><strong>第 1 層：實體層</strong></td>
</tr>
<tr>
<td><strong>集線器（Hub）</strong></td>
<td>廣播傳送，無選擇轉送</td>
<td><strong>第 1 層：實體層</strong></td>
</tr>
<tr>
<td><strong>交換器（Switch）</strong></td>
<td>根據 MAC 位址轉送資料</td>
<td><strong>第 2 層：資料鏈結層</strong>（多層交換器屬於 2、3層）</td>
</tr>
<tr>
<td><strong>橋接器（Bridge）</strong></td>
<td>分隔區域網路，根據 MAC 判斷轉送</td>
<td><strong>第 2 層：資料鏈結層</strong></td>
</tr>
<tr>
<td><strong>路由器（Router）</strong></td>
<td>根據 IP 位址路由傳送資料</td>
<td><strong>第 3 層：網路層</strong></td>
</tr>
<tr>
<td><strong>閘道器（Gateway）</strong></td>
<td>不同協定間的轉換（如 TCP&#x2F;IP ↔ AppleTalk）</td>
<td>根據需求涵蓋 OSI 各層，甚至<strong>橫跨七層</strong>，但實際涵蓋層級取決於它所執行的任務。</td>
</tr>
<tr>
<td><strong>數據機（Modem）</strong></td>
<td><strong>類比數位轉換</strong>，接入網路</td>
<td><strong>第 1 層：實體層</strong>（部分含控制功能也牽涉到第 2 層）</td>
</tr>
<tr>
<td><strong>列印伺服器（Print Server）</strong></td>
<td>透過網路管理印表工作</td>
<td><strong>第 7 層：應用層</strong></td>
</tr>
</tbody></table>
<p><br><br></p>
<h2 id="其它重點補充"><a href="#其它重點補充" class="headerlink" title="其它重點補充"></a>其它重點補充</h2><h3 id="區域網路（LAN）設備"><a href="#區域網路（LAN）設備" class="headerlink" title="區域網路（LAN）設備"></a>區域網路（LAN）設備</h3><table>
<thead>
<tr>
<th>設備名稱</th>
<th>說明</th>
</tr>
</thead>
<tbody><tr>
<td>交換器（Switch）</td>
<td>根據 MAC 位址轉送封包，是現代 LAN 核心</td>
</tr>
<tr>
<td>集線器（Hub）</td>
<td>廣播式設備，早期使用，已被交換器取代</td>
</tr>
<tr>
<td>中繼器（Repeater）</td>
<td>放大訊號、延長傳輸距離</td>
</tr>
<tr>
<td>橋接器（Bridge）</td>
<td>連接兩個 LAN 區段（根據 MAC）</td>
</tr>
<tr>
<td>列印伺服器（Print Server）</td>
<td>區網內共享印表機</td>
</tr>
<tr>
<td>無線基地台（Access Point）</td>
<td>提供 Wi-Fi 給 LAN 裡的設備</td>
</tr>
<tr>
<td>網路卡（NIC）</td>
<td>每台主機用來接入 LAN 的硬體</td>
</tr>
</tbody></table>
<br>

<h3 id="廣域網路（WAN）設備"><a href="#廣域網路（WAN）設備" class="headerlink" title="廣域網路（WAN）設備"></a>廣域網路（WAN）設備</h3><table>
<thead>
<tr>
<th>設備名稱</th>
<th>說明</th>
</tr>
</thead>
<tbody><tr>
<td>數據機（Modem）</td>
<td>連接 ISP，調變&#x2F;解調變訊號</td>
</tr>
<tr>
<td>DSL&#x2F;ADSL 數據機</td>
<td>利用電話線上網</td>
</tr>
<tr>
<td>光纖終端設備（ONT &#x2F; ONU）</td>
<td>光纖上網的接收器</td>
</tr>
<tr>
<td>專線設備（如 CSU&#x2F;DSU）</td>
<td>企業用，連接專線</td>
</tr>
<tr>
<td>ISP 路由骨幹設備</td>
<td>專屬於電信業者的核心傳輸裝置</td>
</tr>
</tbody></table>
<br>

<h3 id="同時屬於-LAN-與-WAN-的設備"><a href="#同時屬於-LAN-與-WAN-的設備" class="headerlink" title="同時屬於 LAN 與 WAN 的設備"></a>同時屬於 LAN 與 WAN 的設備</h3><table>
<thead>
<tr>
<th>設備名稱</th>
<th>說明</th>
</tr>
</thead>
<tbody><tr>
<td>路由器（Router）</td>
<td>分配 LAN IP、連接外部網路（WAN）</td>
</tr>
<tr>
<td>閘道器（Gateway）</td>
<td>LAN 出口邏輯角色，連接異質網路</td>
</tr>
<tr>
<td>防火牆（Firewall）</td>
<td>LAN&#x2F;WAN 之間的流量控管與防護設備</td>
</tr>
</tbody></table>
<p><br><br></p>
<h2 id="NAT（Network-Address-Translation）筆記"><a href="#NAT（Network-Address-Translation）筆記" class="headerlink" title="NAT（Network Address Translation）筆記"></a>NAT（Network Address Translation）筆記</h2><p>NAT 是一種將<strong>內部私有 IP 轉換為外部公共 IP</strong> 的技術，讓多台設備共用一個外部 IP 上網，並<strong>預設阻擋外部直接連入內部裝置</strong>（除非設定 Port Forwarding）。</p>
<h3 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h3><ul>
<li>節省公共 IP</li>
<li>增加內網安全性</li>
<li>允許多台設備透過一個 IP 對外通訊</li>
</ul>
<h3 id="常見類型"><a href="#常見類型" class="headerlink" title="常見類型"></a>常見類型</h3><ul>
<li><strong>靜態 NAT</strong>：固定內外 IP 對應</li>
<li><strong>動態 NAT</strong>：內部 IP 對應一組外部 IP</li>
<li><strong>PAT（NAT Overload）</strong>：依照 Port 做轉換，最常見</li>
</ul>
<h3 id="應用"><a href="#應用" class="headerlink" title="應用"></a>應用</h3><ul>
<li>IP 分享器（無線路由器）使用 NAT 實現家庭內多台裝置上網</li>
</ul>
<p><br><br></p>
<h2 id="TCP-IP（Transmission-Control-Protocol-Internet-Protocol）筆記"><a href="#TCP-IP（Transmission-Control-Protocol-Internet-Protocol）筆記" class="headerlink" title="TCP&#x2F;IP（Transmission Control Protocol&#x2F;Internet Protocol）筆記"></a>TCP&#x2F;IP（Transmission Control Protocol&#x2F;Internet Protocol）筆記</h2><p>TCP&#x2F;IP 協議是網際網路運作的核心，定義了一套完整的網路通訊規則，讓全球範圍內的電腦和網路設備可以互相連接和通訊，適用於區域網路或廣域網路。</p>
<h3 id="TCP-IP-四層模型"><a href="#TCP-IP-四層模型" class="headerlink" title="TCP&#x2F;IP 四層模型"></a>TCP&#x2F;IP 四層模型</h3><table>
<thead>
<tr>
<th>層級</th>
<th>功能</th>
<th>對應 OSI</th>
</tr>
</thead>
<tbody><tr>
<td>應用層</td>
<td>提供應用服務（HTTP、FTP、DNS）</td>
<td>OSI 第 5~7 層</td>
</tr>
<tr>
<td>傳輸層</td>
<td>建立端對端連線，控制資料傳輸</td>
<td>OSI 第 4 層</td>
</tr>
<tr>
<td>網際層</td>
<td>負責尋址與路由（IP）</td>
<td>OSI 第 3 層</td>
</tr>
<tr>
<td>網路介面層</td>
<td>資料實體傳輸（Ethernet、Wi-Fi）</td>
<td>OSI 第 1~2 層</td>
</tr>
</tbody></table>
<br>

<h3 id="常見協定"><a href="#常見協定" class="headerlink" title="常見協定"></a>常見協定</h3><ul>
<li><strong>TCP（傳輸控制協定）</strong>：連線導向、可靠、有序（如 HTTP、FTP、SMTP）</li>
<li><strong>UDP（使用者資料報協定）</strong>：非連線、不保證可靠（如 DNS、影片串流）</li>
<li><strong>IP（網際協定）</strong>：負責位址與封包路由（IPv4 &#x2F; IPv6）</li>
<li><strong>DNS</strong>：將網址轉成 IP 位址</li>
<li><strong>HTTP&#x2F;HTTPS</strong>：網頁傳輸協定（HTTPS 有加密）</li>
</ul>
<br>

<h3 id="IP-位址分類（IPv4）"><a href="#IP-位址分類（IPv4）" class="headerlink" title="IP 位址分類（IPv4）"></a>IP 位址分類（IPv4）</h3><table>
<thead>
<tr>
<th>類型</th>
<th>開頭範圍</th>
<th>用途</th>
</tr>
</thead>
<tbody><tr>
<td>A 類</td>
<td>1.0.0.0 ~ 126.255.255.255</td>
<td>大型網路</td>
</tr>
<tr>
<td>B 類</td>
<td>128.0.0.0 ~ 191.255.255.255</td>
<td>中型網路</td>
</tr>
<tr>
<td>C 類</td>
<td>192.0.0.0 ~ 223.255.255.255</td>
<td>小型網路</td>
</tr>
<tr>
<td>私有 IP</td>
<td>10.x.x.x、172.16~31.x.x、192.168.x.x</td>
<td>內部使用</td>
</tr>
</tbody></table>
<br>

<h3 id="連接埠範例"><a href="#連接埠範例" class="headerlink" title="連接埠範例"></a>連接埠範例</h3><table>
<thead>
<tr>
<th>協定</th>
<th>Port 號</th>
</tr>
</thead>
<tbody><tr>
<td>HTTP</td>
<td>80</td>
</tr>
<tr>
<td>HTTPS</td>
<td>443</td>
</tr>
<tr>
<td>FTP</td>
<td>21</td>
</tr>
<tr>
<td>DNS</td>
<td>53</td>
</tr>
<tr>
<td>SMTP</td>
<td>25</td>
</tr>
<tr>
<td>SSH</td>
<td>22</td>
</tr>
</tbody></table>
<br>

<h3 id="封包傳輸流程（簡略）"><a href="#封包傳輸流程（簡略）" class="headerlink" title="封包傳輸流程（簡略）"></a>封包傳輸流程（簡略）</h3><p>使用者 → 應用層（HTTP） → TCP → IP → MAC → 實體傳輸 → 接收端逆向處理</p>
<p><br><br></p>
<h2 id="MAC-位址（Media-Access-Control-Address）筆記"><a href="#MAC-位址（Media-Access-Control-Address）筆記" class="headerlink" title="MAC 位址（Media Access Control Address）筆記"></a>MAC 位址（Media Access Control Address）筆記</h2><ul>
<li>是<strong>網路卡的實體位址</strong>，全球唯一，用來識別每台設備</li>
<li><strong>6 組十六進位數字組成</strong>（例：00:1A:2B:3C:4D:5E）</li>
<li>工作在<strong>資料鏈結層</strong>（Layer 2）</li>
<li>用來在**區域網路（LAN）**中定位設備</li>
<li>通常是固定寫死在網卡晶片上，但有些系統可更改（叫 MAC Spoofing）</li>
</ul>
<br>

<h3 id="IP-vs-MAC-差異比較"><a href="#IP-vs-MAC-差異比較" class="headerlink" title="IP vs MAC 差異比較"></a>IP vs MAC 差異比較</h3><p>IP 是設備在網路中的位置，MAC 是設備的身分證號。</p>
<table>
<thead>
<tr>
<th>項目</th>
<th>IP 位址</th>
<th>MAC 位址</th>
</tr>
</thead>
<tbody><tr>
<td>層級</td>
<td>第三層（網路層）</td>
<td>第二層（資料鏈結層）</td>
</tr>
<tr>
<td>功能</td>
<td>表示設備在網路中的<strong>邏輯位置</strong></td>
<td>表示設備的<strong>實體硬體識別碼</strong></td>
</tr>
<tr>
<td>可變性</td>
<td><strong>可變動</strong>，可依網路變更</td>
<td><strong>通常固定</strong>，寫死在網卡中</td>
</tr>
<tr>
<td>用途</td>
<td>尋找&#x2F;傳送資料到其他網路上的設備</td>
<td>在同一區域網路中辨識設備</td>
</tr>
<tr>
<td>例子</td>
<td>192.168.1.100</td>
<td>00:1A:2B:3C:4D:5E</td>
</tr>
</tbody></table>
<p><br><br></p>
<h2 id="路由（Routing）筆記"><a href="#路由（Routing）筆記" class="headerlink" title="路由（Routing）筆記"></a>路由（Routing）筆記</h2><p><strong>路由就是幫資料找路，透過路由器將資料轉送到正確的網路。</strong></p>
<ul>
<li><p><strong>定義</strong>：<br>路由是資料封包從來源傳送到目的地的<strong>路徑選擇過程</strong>。</p>
</li>
<li><p><strong>功能</strong>：<br>幫資料找到最適合的路徑，在<strong>不同網路之間轉送封包</strong>。</p>
</li>
<li><p><strong>設備</strong>：<br>由「<strong>路由器（Router）</strong>」負責執行，工作在 <strong>網路層（第三層）</strong>。</p>
</li>
<li><p><strong>依據</strong>：<br>根據目標 <strong>IP 位址</strong> 和 <strong>路由表（Routing Table）</strong> 進行判斷。</p>
</li>
<li><p><strong>靜態 vs 動態</strong>：</p>
<p><strong>靜態路由</strong>：手動設定路徑<br><strong>動態路由</strong>：使用路由協定（如 RIP、OSPF）自動學習最佳路徑</p>
</li>
</ul>
<p><br><br></p>
<h2 id="路由資訊協定（Routing-Information-Protocol-RIP）筆記"><a href="#路由資訊協定（Routing-Information-Protocol-RIP）筆記" class="headerlink" title="路由資訊協定（Routing Information Protocol&#x2F;RIP）筆記"></a>路由資訊協定（Routing Information Protocol&#x2F;RIP）筆記</h2><p><strong>屬於動態路由協定（Dynamic Routing Protocol）</strong></p>
<h3 id="工作原理"><a href="#工作原理" class="headerlink" title="工作原理"></a>工作原理</h3><ul>
<li>RIP 根據「<strong>跳數</strong>」（Hop Count）來決定最佳路由  </li>
<li>每一台經過的路由器都算一個跳數  </li>
<li><strong>跳數越少，路徑優先權越高</strong></li>
</ul>
<h3 id="最大跳數限制"><a href="#最大跳數限制" class="headerlink" title="最大跳數限制"></a>最大跳數限制</h3><ul>
<li><strong>最多支援 15 跳</strong>  </li>
<li>第 16 跳表示不可達（即視為路由失效）</li>
</ul>
<h3 id="其它協定"><a href="#其它協定" class="headerlink" title="其它協定"></a>其它協定</h3><table>
<thead>
<tr>
<th>協定名稱</th>
<th>類型</th>
<th>特性簡述</th>
</tr>
</thead>
<tbody><tr>
<td><strong>RIP</strong> (Routing Information Protocol)</td>
<td>距離向量</td>
<td>簡單、最多15跳，適用小型網路</td>
</tr>
<tr>
<td><strong>IGRP</strong> (Interior Gateway Routing Protocol，已淘汰)</td>
<td>距離向量</td>
<td>Cisco 自家舊協定，取代 RIP</td>
</tr>
<tr>
<td><strong>EIGRP</strong> (Enhanced IGRP)</td>
<td>混合式（Cisco專用）</td>
<td>快速收斂、可靠，支援 VLSM</td>
</tr>
<tr>
<td><strong>OSPF</strong> (Open Shortest Path First)</td>
<td>鏈路狀態</td>
<td>開放標準，適用中大型網路，支援分層</td>
</tr>
<tr>
<td><strong>IS-IS</strong> (Intermediate System to Intermediate System)</td>
<td>鏈路狀態</td>
<td>與 OSPF 類似，多用於大型網路或 ISP</td>
</tr>
<tr>
<td><strong>BGP</strong> (Border Gateway Protocol)</td>
<td>路徑向量（Path Vector）</td>
<td>目前唯一的 EGP，負責互聯網骨幹</td>
</tr>
</tbody></table>
<p><br><br></p>
<h2 id="服務品質（Quality-of-Service-QoS）筆記"><a href="#服務品質（Quality-of-Service-QoS）筆記" class="headerlink" title="服務品質（Quality of Service&#x2F;QoS）筆記"></a>服務品質（Quality of Service&#x2F;QoS）筆記</h2><p>QoS是一種網路技術，會根據你設定的規則，<strong>優先處理某些網路封包或裝置的流量</strong>，讓重要的流量（例如打遊戲、語音通話）不會被其他背景傳輸（像是下載或看影片）干擾。<br>QoS 控制的主要對象是「<strong>傳送端 IP／裝置</strong>」，即你家裡的裝置送出去的資料流。<br>QoS 原則可以指定應用程式方向為<strong>傳送（source）</strong>、<strong>接收（destination）</strong>。</p>
<p>在 Windows Server QoS 中，可以設定：</p>
<ul>
<li>特定 <strong>應用程式名稱</strong></li>
<li>特定方向：<strong>傳送</strong> 或 <strong>接收</strong></li>
<li>特定來源或目的 IP 位址</li>
<li>特定埠號</li>
</ul>
<table>
<thead>
<tr>
<th>類型</th>
<th>說明</th>
</tr>
</thead>
<tbody><tr>
<td><strong>裝置優先</strong>（Device-based）</td>
<td>給特定裝置（例如你的遊戲主機）最高優先權</td>
</tr>
<tr>
<td><strong>應用優先</strong>（Application-based）</td>
<td>針對特定類型流量（如遊戲、語音）設優先</td>
</tr>
<tr>
<td><strong>頻寬限制</strong>（Bandwidth limiter）</td>
<td>限制某些裝置的上下行速度，避免佔用整條網路</td>
</tr>
<tr>
<td><strong>手動設定</strong>（Advanced QoS）</td>
<td>進階使用者可針對 IP、Port 自訂規則</td>
</tr>
</tbody></table>

        
      </div>

         
    </div>
    
     
  </div>
  
    

  
</article>






    </div>
    <div id="footer-wrapper">
      <footer id="footer" style="padding: 20px 0;">
  
  <div id="footer-info" class="inner" style="text-align:center; width:100%; max-width:900px; margin: 0 auto;">
    
    
    &copy; 2024 - 2025 by 虎头鯨<br>
    框架 <a href="https://hexo.io/" target="_blank">Hexo</a> | 主題 <a href="https://github.com/saicaca/hexo-theme-vivia" target="_blank">Vivia</a>

    <div id="runtime" style="margin-top: 2px; font-size: 15px; color: var(--neut-L50);"></div>
  </div>
  <script src="/js/runtime.js"></script>
</footer>
    </div>
    <div class="back-to-top-wrapper">
    <button id="back-to-top-btn" class="back-to-top-btn hide" onclick="topFunction()">
        <i class="fa-solid fa-angle-up"></i>
    </button>
</div>

<script>
    function topFunction() {
        window.scroll({ top: 0, behavior: 'smooth' });
    }
    let btn = document.getElementById('back-to-top-btn');
    function scrollFunction() {
        if (document.body.scrollTop > 600 || document.documentElement.scrollTop > 600) {
            btn.classList.remove('hide')
        } else {
            btn.classList.add('hide')
        }
    }
    window.onscroll = function() {
        scrollFunction();
    }
</script>

  </div>
  <script src="/js/light-dark-switch.js"></script>
</body>
</html>
